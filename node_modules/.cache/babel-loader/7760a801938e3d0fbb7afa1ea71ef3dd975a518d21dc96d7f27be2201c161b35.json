{"ast":null,"code":"import React,{useState,useEffect}from'react';import HeaderComponent from'../component/header/HeaderComponent';import{Container,Grid,Card,CardContent,CardMedia,Typography,IconButton,Box,CircularProgress,Alert,Button,Tabs,Tab}from'@mui/material';import{BookOpen,BookmarkMinus,History,BookmarkPlus,ThumbsUp}from'lucide-react';import{useNavigate}from'react-router-dom';import axios from'axios';import{colors}from'../constants';// Book Card Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookCard=_ref=>{let{book,onUnsave,showUnsave=true,onClick}=_ref;return/*#__PURE__*/_jsxs(Card,{sx:{height:'100%',display:'flex',flexDirection:'column',transition:'transform 0.2s',bgcolor:'rgba(255, 255, 255, 0.05)',backdropFilter:'blur(10px)','&:hover':{transform:'scale(1.05)',bgcolor:'rgba(255, 255, 255, 0.1)'}},children:[/*#__PURE__*/_jsxs(Box,{sx:{position:'relative',pt:'150%'},children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",image:book.formats['image/jpeg'],alt:book.title,sx:{position:'absolute',top:0,left:0,width:'100%',height:'100%',objectFit:'cover'}}),showUnsave&&/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',top:0,right:0,p:1},children:/*#__PURE__*/_jsx(IconButton,{onClick:e=>{e.stopPropagation();onUnsave(book.id);},sx:{bgcolor:'rgba(0, 0, 0, 0.5)','&:hover':{bgcolor:'rgba(0, 0, 0, 0.7)'}},children:/*#__PURE__*/_jsx(BookmarkMinus,{size:20,color:\"white\"})})}),/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',bottom:0,left:0,right:0,bgcolor:'rgba(0, 0, 0, 0.7)',p:1,display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(IconButton,{onClick:onClick,sx:{color:'white'},children:/*#__PURE__*/_jsx(BookOpen,{size:20})})})]}),/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1,p:1.5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",component:\"h2\",color:\"black\",sx:{fontSize:'0.875rem',fontWeight:'bold',mb:0.5,display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical',overflow:'hidden',lineHeight:1.2},children:book.title}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"grey.400\",sx:{display:'-webkit-box',WebkitLineClamp:1,WebkitBoxOrient:'vertical',overflow:'hidden'},children:book.authors.map(author=>author.name).join(', ')})]})]});};// Recently Read Books Component\nconst RecentlyReadBooks=_ref2=>{let{userId,maxBooks=20}=_ref2;const[recentBooks,setRecentBooks]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const fetchRecentBooks=async()=>{try{const historyResponse=await axios.get(`http://localhost:8080/api/v1/reading-history/user/${userId}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(historyResponse.data.success){const bookIds=historyResponse.data.data.slice(0,maxBooks);const bookPromises=bookIds.map(bookId=>fetch(`https://gutendex.com/books/${bookId}/`).then(res=>res.json()));const books=await Promise.all(bookPromises);setRecentBooks(books);}setLoading(false);}catch(error){console.error('Error fetching recent books:',error);setLoading(false);}};if(userId){fetchRecentBooks();}},[userId,maxBooks]);if(loading){return/*#__PURE__*/_jsx(CircularProgress,{});}if(recentBooks.length===0){return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'50vh',gap:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"white\",children:\"No reading history yet\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate('/'),children:\"Start Reading\"})]});}return/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:recentBooks.filter(book=>book!==null)// Filter out null values\n.map(book=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(BookCard,{book:book,showUnsave:false,onClick:()=>navigate('/description-book',{state:{bookId:book.id,bookTitle:book.title}})})},book.id))});};// Recommended Books Component\nconst RecommendedBooks=_ref3=>{let{userId,maxBooks=20}=_ref3;const[recommendedBooks,setRecommendedBooks]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const fetchRecommendedBooks=async userId=>{try{const response=await axios.get(`http://localhost:8080/api/v1/recommendations/user/${userId}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(response.data.success){const bookPromises=response.data.data.slice(0,maxBooks).map(bookId=>fetch(`https://gutendex.com/books/${bookId}/`).then(res=>res.json()));const books=await Promise.all(bookPromises);setRecommendedBooks(books);}setLoading(false);}catch(error){console.error('Error fetching recommendations:',error);setLoading(false);}};if(userId){fetchRecommendedBooks(userId);}},[userId,maxBooks]);if(loading){return/*#__PURE__*/_jsx(CircularProgress,{});}if(recommendedBooks.length===0){return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'50vh',gap:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"white\",children:\"No recommendations yet\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate('/'),children:\"Explore Books\"})]});}return/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:recommendedBooks.map(book=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(BookCard,{book:book,showUnsave:false,onClick:()=>navigate('/description-book',{state:{bookId:book.id,bookTitle:book.title}})})},book.id))});};// Main SavedBooks Component\nfunction SavedBooks(){const[windowSize,setWindowSize]=useState({width:window.innerWidth,height:window.innerHeight});const[savedBooks,setSavedBooks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[user,setUser]=useState(null);const[currentTab,setCurrentTab]=useState(0);const[recentBooks,setRecentBooks]=useState([]);const navigate=useNavigate();const handleChangeTab=(event,newValue)=>{setCurrentTab(newValue);};useEffect(()=>{const handleResize=()=>{setWindowSize({width:window.innerWidth,height:window.innerHeight});};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);useEffect(()=>{const getUser=async()=>{if(!localStorage.getItem('token')){navigate('/login-account');return;}try{const response=await axios.get('http://localhost:8080/api/v1/user/profile',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setUser(response.data);fetchSavedBooks(response.data.userId);}catch(error){console.error(error);setError('Failed to get user profile');setLoading(false);}};getUser();},[navigate]);const fetchSavedBooks=async userId=>{try{const savedResponse=await axios.get(`http://localhost:8080/api/v1/saved-books/user/${userId}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(savedResponse.data.success){const bookPromises=savedResponse.data.data.slice(0,20).map(bookId=>fetch(`https://gutendex.com/books/${bookId}/`).then(res=>res.json()));const books=await Promise.all(bookPromises);setSavedBooks(books);}setLoading(false);}catch(error){console.error(error);setError('Failed to fetch saved books');setLoading(false);}};const handleUnsaveBook=async bookId=>{try{const response=await axios.delete(`http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(response.data.success){setSavedBooks(prev=>prev.filter(book=>book.id!==bookId));}}catch(error){console.error('Error unsaving book:',error);}};if(loading){return/*#__PURE__*/_jsx(Box,{sx:{height:'100vh',display:'flex',alignItems:'center',justifyContent:'center',bgcolor:colors.themeLight.color060d13},children:/*#__PURE__*/_jsx(CircularProgress,{})});}return/*#__PURE__*/_jsxs(Box,{sx:{height:'100vh',bgcolor:colors.themeLight.color060d13,flex:1,flexDirection:'column',overflowY:'auto'},children:[/*#__PURE__*/_jsx(HeaderComponent,{windowSize:windowSize,centerContent:'MY LIBRARY',showSearch:false}),/*#__PURE__*/_jsxs(Container,{sx:{pt:12,pb:6,flex:1,overflowY:'auto',width:windowSize.width},children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),/*#__PURE__*/_jsxs(Tabs,{value:currentTab,onChange:handleChangeTab,sx:{mb:4,'& .MuiTab-root':{color:'gray','&.Mui-selected':{color:'#2196f3'}},'& .MuiTabs-indicator':{backgroundColor:'#2196f3'},borderBottom:1,borderColor:'divider'},children:[/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(BookmarkPlus,{size:20}),iconPosition:\"start\",label:\"Saved Books\"}),/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(History,{size:20}),iconPosition:\"start\",label:\"Recently Read\"}),/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(ThumbsUp,{size:20}),iconPosition:\"start\",label:\"Recommended\"})]}),currentTab===0&&(savedBooks.length===0?/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'50vh',gap:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"white\",children:\"No saved books yet\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate('/'),children:\"Explore Books\"})]}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:savedBooks.map(book=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(BookCard,{book:book,onUnsave:handleUnsaveBook,onClick:()=>navigate('/description-book',{state:{bookId:book.id,bookTitle:book.title}})})},book.id))})),currentTab===1&&/*#__PURE__*/_jsx(RecentlyReadBooks,{userId:user===null||user===void 0?void 0:user.userId,maxBooks:20}),currentTab===2&&/*#__PURE__*/_jsx(RecommendedBooks,{userId:user===null||user===void 0?void 0:user.userId,maxBooks:20})]})]});}export default SavedBooks;","map":{"version":3,"names":["React","useState","useEffect","HeaderComponent","Container","Grid","Card","CardContent","CardMedia","Typography","IconButton","Box","CircularProgress","Alert","Button","Tabs","Tab","BookOpen","BookmarkMinus","History","BookmarkPlus","ThumbsUp","useNavigate","axios","colors","jsx","_jsx","jsxs","_jsxs","BookCard","_ref","book","onUnsave","showUnsave","onClick","sx","height","display","flexDirection","transition","bgcolor","backdropFilter","transform","children","position","pt","component","image","formats","alt","title","top","left","width","objectFit","right","p","e","stopPropagation","id","size","color","bottom","justifyContent","flexGrow","variant","fontSize","fontWeight","mb","WebkitLineClamp","WebkitBoxOrient","overflow","lineHeight","authors","map","author","name","join","RecentlyReadBooks","_ref2","userId","maxBooks","recentBooks","setRecentBooks","loading","setLoading","navigate","fetchRecentBooks","historyResponse","get","headers","Authorization","localStorage","getItem","data","success","bookIds","slice","bookPromises","bookId","fetch","then","res","json","books","Promise","all","error","console","length","alignItems","gap","container","spacing","filter","item","xs","sm","md","state","bookTitle","RecommendedBooks","_ref3","recommendedBooks","setRecommendedBooks","fetchRecommendedBooks","response","SavedBooks","windowSize","setWindowSize","window","innerWidth","innerHeight","savedBooks","setSavedBooks","setError","user","setUser","currentTab","setCurrentTab","handleChangeTab","event","newValue","handleResize","addEventListener","removeEventListener","getUser","fetchSavedBooks","savedResponse","handleUnsaveBook","delete","prev","themeLight","color060d13","flex","overflowY","centerContent","showSearch","pb","severity","value","onChange","backgroundColor","borderBottom","borderColor","icon","iconPosition","label"],"sources":["C:/Users/TTC/OneDrive/Documents/GITHUB/fe-readhub/src/pages/SavedBooks.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport HeaderComponent from '../component/header/HeaderComponent'\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Typography,\r\n  IconButton,\r\n  Box,\r\n  CircularProgress,\r\n  Alert,\r\n  Button,\r\n  Tabs,\r\n  Tab,\r\n} from '@mui/material'\r\nimport {\r\n  BookOpen,\r\n  BookmarkMinus,\r\n  History,\r\n  BookmarkPlus,\r\n  ThumbsUp,\r\n} from 'lucide-react'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {colors} from '../constants'\r\n\r\n// Book Card Component\r\nconst BookCard = ({book, onUnsave, showUnsave = true, onClick}) => (\r\n  <Card\r\n    sx={{\r\n      height: '100%',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      transition: 'transform 0.2s',\r\n      bgcolor: 'rgba(255, 255, 255, 0.05)',\r\n      backdropFilter: 'blur(10px)',\r\n      '&:hover': {\r\n        transform: 'scale(1.05)',\r\n        bgcolor: 'rgba(255, 255, 255, 0.1)',\r\n      },\r\n    }}>\r\n    <Box sx={{position: 'relative', pt: '150%'}}>\r\n      <CardMedia\r\n        component='img'\r\n        image={book.formats['image/jpeg']}\r\n        alt={book.title}\r\n        sx={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: '100%',\r\n          objectFit: 'cover',\r\n        }}\r\n      />\r\n      {showUnsave && (\r\n        <Box sx={{position: 'absolute', top: 0, right: 0, p: 1}}>\r\n          <IconButton\r\n            onClick={e => {\r\n              e.stopPropagation()\r\n              onUnsave(book.id)\r\n            }}\r\n            sx={{\r\n              bgcolor: 'rgba(0, 0, 0, 0.5)',\r\n              '&:hover': {bgcolor: 'rgba(0, 0, 0, 0.7)'},\r\n            }}>\r\n            <BookmarkMinus size={20} color='white' />\r\n          </IconButton>\r\n        </Box>\r\n      )}\r\n      <Box\r\n        sx={{\r\n          position: 'absolute',\r\n          bottom: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bgcolor: 'rgba(0, 0, 0, 0.7)',\r\n          p: 1,\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n        }}>\r\n        <IconButton onClick={onClick} sx={{color: 'white'}}>\r\n          <BookOpen size={20} />\r\n        </IconButton>\r\n      </Box>\r\n    </Box>\r\n    <CardContent sx={{flexGrow: 1, p: 1.5}}>\r\n      <Typography\r\n        variant='subtitle2'\r\n        component='h2'\r\n        color='black'\r\n        sx={{\r\n          fontSize: '0.875rem',\r\n          fontWeight: 'bold',\r\n          mb: 0.5,\r\n          display: '-webkit-box',\r\n          WebkitLineClamp: 2,\r\n          WebkitBoxOrient: 'vertical',\r\n          overflow: 'hidden',\r\n          lineHeight: 1.2,\r\n        }}>\r\n        {book.title}\r\n      </Typography>\r\n      <Typography\r\n        variant='caption'\r\n        color='grey.400'\r\n        sx={{\r\n          display: '-webkit-box',\r\n          WebkitLineClamp: 1,\r\n          WebkitBoxOrient: 'vertical',\r\n          overflow: 'hidden',\r\n        }}>\r\n        {book.authors.map(author => author.name).join(', ')}\r\n      </Typography>\r\n    </CardContent>\r\n  </Card>\r\n)\r\n\r\n// Recently Read Books Component\r\nconst RecentlyReadBooks = ({userId, maxBooks = 20}) => {\r\n  const [recentBooks, setRecentBooks] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const fetchRecentBooks = async () => {\r\n      try {\r\n        const historyResponse = await axios.get(\r\n          `http://localhost:8080/api/v1/reading-history/user/${userId}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n          },\r\n        )\r\n\r\n        if (historyResponse.data.success) {\r\n          const bookIds = historyResponse.data.data.slice(0, maxBooks)\r\n          const bookPromises = bookIds.map(bookId =>\r\n            fetch(`https://gutendex.com/books/${bookId}/`).then(res =>\r\n              res.json(),\r\n            ),\r\n          )\r\n          const books = await Promise.all(bookPromises)\r\n          setRecentBooks(books)\r\n        }\r\n        setLoading(false)\r\n      } catch (error) {\r\n        console.error('Error fetching recent books:', error)\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    if (userId) {\r\n      fetchRecentBooks()\r\n    }\r\n  }, [userId, maxBooks])\r\n\r\n  if (loading) {\r\n    return <CircularProgress />\r\n  }\r\n\r\n  if (recentBooks.length === 0) {\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          height: '50vh',\r\n          gap: 2,\r\n        }}>\r\n        <Typography variant='h6' color='white'>\r\n          No reading history yet\r\n        </Typography>\r\n        <Button variant='contained' onClick={() => navigate('/')}>\r\n          Start Reading\r\n        </Button>\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Grid container spacing={3}>\r\n      {recentBooks\r\n        .filter(book => book !== null) // Filter out null values\r\n        .map(book => (\r\n          <Grid item xs={12} sm={6} md={3} key={book.id}>\r\n            <BookCard\r\n              book={book}\r\n              showUnsave={false}\r\n              onClick={() =>\r\n                navigate('/description-book', {\r\n                  state: {bookId: book.id, bookTitle: book.title},\r\n                })\r\n              }\r\n            />\r\n          </Grid>\r\n        ))}\r\n    </Grid>\r\n  )\r\n}\r\n\r\n// Recommended Books Component\r\nconst RecommendedBooks = ({userId, maxBooks = 20}) => {\r\n  const [recommendedBooks, setRecommendedBooks] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const fetchRecommendedBooks = async userId => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:8080/api/v1/recommendations/user/${userId}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n          },\r\n        )\r\n\r\n        if (response.data.success) {\r\n          const bookPromises = response.data.data\r\n            .slice(0, maxBooks)\r\n            .map(bookId =>\r\n              fetch(`https://gutendex.com/books/${bookId}/`).then(res =>\r\n                res.json(),\r\n              ),\r\n            )\r\n          const books = await Promise.all(bookPromises)\r\n          setRecommendedBooks(books)\r\n        }\r\n        setLoading(false)\r\n      } catch (error) {\r\n        console.error('Error fetching recommendations:', error)\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    if (userId) {\r\n      fetchRecommendedBooks(userId)\r\n    }\r\n  }, [userId, maxBooks])\r\n\r\n  if (loading) {\r\n    return <CircularProgress />\r\n  }\r\n\r\n  if (recommendedBooks.length === 0) {\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          height: '50vh',\r\n          gap: 2,\r\n        }}>\r\n        <Typography variant='h6' color='white'>\r\n          No recommendations yet\r\n        </Typography>\r\n        <Button variant='contained' onClick={() => navigate('/')}>\r\n          Explore Books\r\n        </Button>\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Grid container spacing={3}>\r\n      {recommendedBooks.map(book => (\r\n        <Grid item xs={12} sm={6} md={3} key={book.id}>\r\n          <BookCard\r\n            book={book}\r\n            showUnsave={false}\r\n            onClick={() =>\r\n              navigate('/description-book', {\r\n                state: {bookId: book.id, bookTitle: book.title},\r\n              })\r\n            }\r\n          />\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  )\r\n}\r\n\r\n// Main SavedBooks Component\r\nfunction SavedBooks() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n  })\r\n  const [savedBooks, setSavedBooks] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(null)\r\n  const [user, setUser] = useState(null)\r\n  const [currentTab, setCurrentTab] = useState(0)\r\n  const [recentBooks, setRecentBooks] = useState([])\r\n  const navigate = useNavigate()\r\n\r\n  const handleChangeTab = (event, newValue) => {\r\n    setCurrentTab(newValue)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      })\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      if (!localStorage.getItem('token')) {\r\n        navigate('/login-account')\r\n        return\r\n      }\r\n      try {\r\n        const response = await axios.get(\r\n          'http://localhost:8080/api/v1/user/profile',\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n          },\r\n        )\r\n        setUser(response.data)\r\n        fetchSavedBooks(response.data.userId)\r\n      } catch (error) {\r\n        console.error(error)\r\n        setError('Failed to get user profile')\r\n        setLoading(false)\r\n      }\r\n    }\r\n    getUser()\r\n  }, [navigate])\r\n\r\n  const fetchSavedBooks = async userId => {\r\n    try {\r\n      const savedResponse = await axios.get(\r\n        `http://localhost:8080/api/v1/saved-books/user/${userId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        },\r\n      )\r\n\r\n      if (savedResponse.data.success) {\r\n        const bookPromises = savedResponse.data.data\r\n          .slice(0, 20)\r\n          .map(bookId =>\r\n            fetch(`https://gutendex.com/books/${bookId}/`).then(res =>\r\n              res.json(),\r\n            ),\r\n          )\r\n        const books = await Promise.all(bookPromises)\r\n        setSavedBooks(books)\r\n      }\r\n      setLoading(false)\r\n    } catch (error) {\r\n      console.error(error)\r\n      setError('Failed to fetch saved books')\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleUnsaveBook = async bookId => {\r\n    try {\r\n      const response = await axios.delete(\r\n        `http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        },\r\n      )\r\n\r\n      if (response.data.success) {\r\n        setSavedBooks(prev => prev.filter(book => book.id !== bookId))\r\n      }\r\n    } catch (error) {\r\n      console.error('Error unsaving book:', error)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box\r\n        sx={{\r\n          height: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          bgcolor: colors.themeLight.color060d13,\r\n        }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100vh',\r\n        bgcolor: colors.themeLight.color060d13,\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        overflowY: 'auto',\r\n      }}>\r\n      <HeaderComponent\r\n        windowSize={windowSize}\r\n        centerContent={'MY LIBRARY'}\r\n        showSearch={false}\r\n      />\r\n\r\n      <Container\r\n        sx={{\r\n          pt: 12,\r\n          pb: 6,\r\n          flex: 1,\r\n          overflowY: 'auto',\r\n          width: windowSize.width,\r\n        }}>\r\n        {error && (\r\n          <Alert severity='error' sx={{mb: 3}}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <Tabs\r\n          value={currentTab}\r\n          onChange={handleChangeTab}\r\n          sx={{\r\n            mb: 4,\r\n            '& .MuiTab-root': {\r\n              color: 'gray',\r\n              '&.Mui-selected': {\r\n                color: '#2196f3',\r\n              },\r\n            },\r\n            '& .MuiTabs-indicator': {\r\n              backgroundColor: '#2196f3',\r\n            },\r\n            borderBottom: 1,\r\n            borderColor: 'divider',\r\n          }}>\r\n          <Tab\r\n            icon={<BookmarkPlus size={20} />}\r\n            iconPosition='start'\r\n            label='Saved Books'\r\n          />\r\n          <Tab\r\n            icon={<History size={20} />}\r\n            iconPosition='start'\r\n            label='Recently Read'\r\n          />\r\n          <Tab\r\n            icon={<ThumbsUp size={20} />}\r\n            iconPosition='start'\r\n            label='Recommended'\r\n          />\r\n        </Tabs>\r\n\r\n        {currentTab === 0 &&\r\n          (savedBooks.length === 0 ? (\r\n            <Box\r\n              sx={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                height: '50vh',\r\n                gap: 2,\r\n              }}>\r\n              <Typography variant='h6' color='white'>\r\n                No saved books yet\r\n              </Typography>\r\n              <Button variant='contained' onClick={() => navigate('/')}>\r\n                Explore Books\r\n              </Button>\r\n            </Box>\r\n          ) : (\r\n            <Grid container spacing={3}>\r\n              {savedBooks.map(book => (\r\n                <Grid item xs={12} sm={6} md={3} key={book.id}>\r\n                  <BookCard\r\n                    book={book}\r\n                    onUnsave={handleUnsaveBook}\r\n                    onClick={() =>\r\n                      navigate('/description-book', {\r\n                        state: {bookId: book.id, bookTitle: book.title},\r\n                      })\r\n                    }\r\n                  />\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          ))}\r\n\r\n        {currentTab === 1 && (\r\n          <RecentlyReadBooks userId={user?.userId} maxBooks={20} />\r\n        )}\r\n\r\n        {currentTab === 2 && (\r\n          <RecommendedBooks userId={user?.userId} maxBooks={20} />\r\n        )}\r\n      </Container>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default SavedBooks\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}