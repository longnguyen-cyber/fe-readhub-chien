{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TTC\\\\OneDrive\\\\Documents\\\\GITHUB\\\\fe-readhub\\\\src\\\\pages\\\\description_book\\\\DescriptionBook.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { BookOpen, MessageCircle, Share2, BookmarkPlus } from 'lucide-react';\nimport { Card, CardContent, Button, Typography, Chip, Divider, Box, Container, Grid, CircularProgress } from '@mui/material';\nimport { colors } from '../../constants';\nimport axios from 'axios';\nimport HeaderComponent from '../../component/header/HeaderComponent';\nimport BookReviews from './BookReviews';\nimport LoginDialog from '../../component/dialogs/LoginDialog';\nimport ReviewDialog from './ReviewDialog';\nimport { Download } from '@mui/icons-material';\nimport SimilarAuthorBooks from '../../component/recommendations/SimilarAuthorBooks';\nimport Footer from '../../component/footer/Footer';\nimport { languages } from '../../constants/searchData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DescriptionBook() {\n  _s();\n  var _bookDetails$formats;\n  const [windowSize, setWindowSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n  const [user, setUser] = useState(null);\n  const [bookDetails, setBookDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    bookId,\n    bookTitle\n  } = location.state || {};\n  const [showLoginDialog, setShowLoginDialog] = useState(false);\n  const [showReviewDialog, setShowReviewDialog] = useState(false);\n  const [shouldRefreshReviews, setShouldRefreshReviews] = useState(0);\n  const [isSaved, setIsSaved] = useState(false);\n  const handleLogin = () => {\n    setShowLoginDialog(false);\n    navigate('/login-account');\n  };\n  const checkBookSaved = async () => {\n    if (!user) return;\n    try {\n      const response = await axios.get(`http://localhost:8080/api/v1/saved-books/user/${user.userId}/${bookId}/is-saved`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.data.success) {\n        setIsSaved(response.data.data);\n      }\n    } catch (error) {\n      console.error('Error checking saved status:', error);\n    }\n  };\n  const handleSaveBook = async () => {\n    if (!user) {\n      setShowLoginDialog(true);\n      return;\n    }\n    try {\n      if (isSaved) {\n        // Unsave book\n        const response = await axios.delete(`http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.data.success) {\n          setIsSaved(false);\n          // Có thể thêm toast hoặc notification ở đây\n        }\n      } else {\n        // Save book\n        const response = await axios.post(`http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`, null, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.data.success) {\n          setIsSaved(true);\n          // Có thể thêm toast hoặc notification ở đây\n        }\n      }\n    } catch (error) {\n      console.error('Error saving/unsaving book:', error);\n      // Có thể thêm error toast ở đây\n    }\n  };\n  const isBanned = (user === null || user === void 0 ? void 0 : user.forumCreationBanned) && ((user === null || user === void 0 ? void 0 : user.forumCreationBanExpiresAt) === null || new Date(user === null || user === void 0 ? void 0 : user.forumCreationBanExpiresAt) > new Date());\n  useEffect(() => {\n    const getUser = async () => {\n      if (!localStorage.getItem('token')) return;\n      try {\n        const response = await axios.get('http://localhost:8080/api/v1/user/profile', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        setUser(response.data);\n        // Kiểm tra trạng thái saved ngay sau khi có user data\n        try {\n          const savedResponse = await axios.get(`http://localhost:8080/api/v1/saved-books/user/${response.data.userId}/${bookId}/is-saved`, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n          });\n          if (savedResponse.data.success) {\n            setIsSaved(savedResponse.data.data);\n          }\n        } catch (error) {\n          console.error('Error checking saved status:', error);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const fetchBookDetails = async () => {\n      try {\n        const response = await fetch(`https://gutendex.com/books/${bookId}/`);\n        if (!response.ok) throw new Error('Failed to fetch book details');\n        const data = await response.json();\n        setBookDetails(data);\n        setLoading(false);\n      } catch (err) {\n        setError('Failed to fetch book details');\n        setLoading(false);\n      }\n    };\n    const handleResize = () => {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    };\n    fetchBookDetails();\n    getUser(); // Không cần .then nữa vì đã xử lý trong hàm getUser\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [bookId]); // Thêm bookId vào dependencies\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [bookDetails]);\n  if (loading) return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minHeight: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n      size: 24\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 7\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minHeight: '100vh',\n      color: 'error.main'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      bgcolor: colors.themeLight.color060d13,\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(HeaderComponent, {\n      centerContent: bookTitle,\n      showSearch: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        pt: 12,\n        pb: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 4,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              position: 'sticky',\n              top: 24\n            },\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                bgcolor: 'background.paper',\n                boxShadow: theme => `0 8px 24px ${theme.palette.common.black}20`\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                sx: {\n                  p: 0,\n                  '&:last-child': {\n                    pb: 0\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    position: 'relative',\n                    '&:hover .overlay': {\n                      opacity: 1\n                    }\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: bookDetails === null || bookDetails === void 0 ? void 0 : (_bookDetails$formats = bookDetails.formats) === null || _bookDetails$formats === void 0 ? void 0 : _bookDetails$formats['image/jpeg'],\n                    alt: bookDetails.title,\n                    style: {\n                      width: '100%',\n                      height: 'auto',\n                      display: 'block'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    className: \"overlay\",\n                    sx: {\n                      position: 'absolute',\n                      top: 0,\n                      left: 0,\n                      right: 0,\n                      bottom: 0,\n                      bgcolor: 'rgba(0,0,0,0.4)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      opacity: 0,\n                      transition: 'opacity 0.3s'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      startIcon: /*#__PURE__*/_jsxDEV(BookOpen, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 257,\n                        columnNumber: 36\n                      }, this),\n                      onClick: () => navigate('/read-book-screen', {\n                        state: {\n                          bookId,\n                          bookTitle\n                        }\n                      }),\n                      sx: {\n                        bgcolor: 'white',\n                        color: 'text.primary',\n                        '&:hover': {\n                          bgcolor: 'grey.100'\n                        }\n                      },\n                      children: \"Read Now\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              bgcolor: 'background.paper',\n              boxShadow: theme => `0 8px 24px ${theme.palette.common.black}20`\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              sx: {\n                paddingLeft: 4,\n                paddingRight: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start',\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h4\",\n                    component: \"h1\",\n                    gutterBottom: true,\n                    children: bookDetails.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    color: \"text.secondary\",\n                    children: [\"by\", ' ', bookDetails.authors.map(author => author.name).join(', ')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  startIcon: /*#__PURE__*/_jsxDEV(MessageCircle, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 32\n                  }, this),\n                  onClick: () => {\n                    if (!user) {\n                      setShowLoginDialog(true);\n                    } else if (isBanned) {\n                      // You could add a toast notification here to inform the user why they can't create a forum\n                      return;\n                    } else {\n                      var _bookDetails$formats2, _bookDetails$formats3;\n                      console.log(`Create forum ${bookDetails === null || bookDetails === void 0 ? void 0 : (_bookDetails$formats2 = bookDetails.formats) === null || _bookDetails$formats2 === void 0 ? void 0 : _bookDetails$formats2['image/jpeg']}`);\n                      navigate('/create-forum', {\n                        state: {\n                          bookId,\n                          bookTitle,\n                          authors: bookDetails.authors.map(author => author.name).join(', '),\n                          coverBook: bookDetails === null || bookDetails === void 0 ? void 0 : (_bookDetails$formats3 = bookDetails.formats) === null || _bookDetails$formats3 === void 0 ? void 0 : _bookDetails$formats3['image/jpeg'],\n                          subjects: bookDetails.subjects\n                        }\n                      });\n                    }\n                  },\n                  disabled: isBanned,\n                  sx: {\n                    bgcolor: isBanned ? 'grey.500' : 'primary.main',\n                    '&:hover': {\n                      bgcolor: isBanned ? 'grey.600' : 'primary.dark'\n                    },\n                    '&.Mui-disabled': {\n                      bgcolor: 'grey.500',\n                      color: 'white'\n                    }\n                  },\n                  children: isBanned ? 'Forum Creation Restricted' : 'Create Forum'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 3,\n                sx: {\n                  mb: 3\n                },\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 8,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    gutterBottom: true,\n                    children: \"Subjects\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      flexWrap: 'wrap',\n                      gap: 1\n                    },\n                    children: bookDetails.subjects.map((subject, index) => /*#__PURE__*/_jsxDEV(Chip, {\n                      label: subject,\n                      sx: {\n                        bgcolor: 'white',\n                        color: 'primary.main',\n                        border: `1px solid`,\n                        borderColor: 'primary.main'\n                      }\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 4,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    gutterBottom: true,\n                    children: \"Language\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    color: \"text.secondary\",\n                    children: bookDetails.languages.map(langValue => {\n                      var _languages$find;\n                      return ((_languages$find = languages.find(lang => lang.value === langValue)) === null || _languages$find === void 0 ? void 0 : _languages$find.label) || langValue;\n                    }).join(', ')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 8,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    gutterBottom: true,\n                    children: \"Publisher\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    color: \"text.secondary\",\n                    children: \"Project Gutenberg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 4,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    gutterBottom: true,\n                    children: \"Downloads\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    color: \"text.secondary\",\n                    children: bookDetails.download_count.toLocaleString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 3\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  gap: 2,\n                  mt: 3\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  startIcon: /*#__PURE__*/_jsxDEV(BookOpen, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 32\n                  }, this),\n                  onClick: () => navigate('/read-book-screen', {\n                    state: {\n                      bookId,\n                      bookTitle\n                    }\n                  }),\n                  fullWidth: true,\n                  children: \"Read Book\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  startIcon: /*#__PURE__*/_jsxDEV(BookmarkPlus, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 32\n                  }, this),\n                  onClick: handleSaveBook,\n                  fullWidth: true,\n                  children: isSaved ? 'Unsave Book' : 'Save for Later'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  startIcon: /*#__PURE__*/_jsxDEV(Share2, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 57\n                  }, this),\n                  fullWidth: true,\n                  children: \"Share\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SimilarAuthorBooks, {\n        bookId: bookId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BookReviews, {\n        bookId: bookId,\n        onWriteReview: () => {\n          if (!user) {\n            setShowLoginDialog(true);\n          } else {\n            setShowReviewDialog(true);\n          }\n        },\n        refreshTrigger: shouldRefreshReviews,\n        currentUser: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoginDialog, {\n      open: showLoginDialog,\n      onClose: () => setShowLoginDialog(false),\n      onLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReviewDialog, {\n      open: showReviewDialog,\n      onClose: () => {\n        setShowReviewDialog(false);\n      },\n      onReviewSubmit: () => {\n        setShowReviewDialog(false);\n        setShouldRefreshReviews(prevState => prevState + 1); // Tăng giá trị để trigger refresh\n      },\n      bookId: bookId,\n      currentUser: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n_s(DescriptionBook, \"kOV9RN3LiHh2TKLJy/aUS+/xFuY=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = DescriptionBook;\nvar _c;\n$RefreshReg$(_c, \"DescriptionBook\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","BookOpen","MessageCircle","Share2","BookmarkPlus","Card","CardContent","Button","Typography","Chip","Divider","Box","Container","Grid","CircularProgress","colors","axios","HeaderComponent","BookReviews","LoginDialog","ReviewDialog","Download","SimilarAuthorBooks","Footer","languages","jsxDEV","_jsxDEV","DescriptionBook","_s","_bookDetails$formats","windowSize","setWindowSize","width","window","innerWidth","height","innerHeight","user","setUser","bookDetails","setBookDetails","loading","setLoading","error","setError","navigate","location","bookId","bookTitle","state","showLoginDialog","setShowLoginDialog","showReviewDialog","setShowReviewDialog","shouldRefreshReviews","setShouldRefreshReviews","isSaved","setIsSaved","handleLogin","checkBookSaved","response","get","userId","headers","Authorization","localStorage","getItem","data","success","console","handleSaveBook","delete","post","isBanned","forumCreationBanned","forumCreationBanExpiresAt","Date","getUser","savedResponse","fetchBookDetails","fetch","ok","Error","json","err","handleResize","addEventListener","removeEventListener","scrollTo","sx","display","alignItems","justifyContent","minHeight","children","size","fileName","_jsxFileName","lineNumber","columnNumber","color","bgcolor","themeLight","color060d13","flexDirection","centerContent","showSearch","pt","pb","container","spacing","item","xs","md","position","top","boxShadow","theme","palette","common","black","p","opacity","src","formats","alt","title","style","className","left","right","bottom","transition","variant","startIcon","onClick","paddingLeft","paddingRight","mb","component","gutterBottom","authors","map","author","name","join","_bookDetails$formats2","_bookDetails$formats3","log","coverBook","subjects","disabled","flexWrap","gap","subject","index","label","border","borderColor","langValue","_languages$find","find","lang","value","download_count","toLocaleString","my","mt","fullWidth","onWriteReview","refreshTrigger","currentUser","open","onClose","onLogin","onReviewSubmit","prevState","_c","$RefreshReg$"],"sources":["C:/Users/TTC/OneDrive/Documents/GITHUB/fe-readhub/src/pages/description_book/DescriptionBook.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {useNavigate, useLocation} from 'react-router-dom'\r\nimport {BookOpen, MessageCircle, Share2, BookmarkPlus} from 'lucide-react'\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Typography,\r\n  Chip,\r\n  Divider,\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  CircularProgress,\r\n} from '@mui/material'\r\nimport {colors} from '../../constants'\r\nimport axios from 'axios'\r\nimport HeaderComponent from '../../component/header/HeaderComponent'\r\nimport BookReviews from './BookReviews'\r\nimport LoginDialog from '../../component/dialogs/LoginDialog'\r\nimport ReviewDialog from './ReviewDialog'\r\nimport {Download} from '@mui/icons-material'\r\nimport SimilarAuthorBooks from '../../component/recommendations/SimilarAuthorBooks'\r\nimport Footer from '../../component/footer/Footer'\r\nimport {languages} from '../../constants/searchData'\r\n\r\nexport default function DescriptionBook() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n  })\r\n  const [user, setUser] = useState(null)\r\n  const [bookDetails, setBookDetails] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(null)\r\n  const navigate = useNavigate()\r\n  const location = useLocation()\r\n  const {bookId, bookTitle} = location.state || {}\r\n  const [showLoginDialog, setShowLoginDialog] = useState(false)\r\n  const [showReviewDialog, setShowReviewDialog] = useState(false)\r\n  const [shouldRefreshReviews, setShouldRefreshReviews] = useState(0)\r\n  const [isSaved, setIsSaved] = useState(false)\r\n\r\n  const handleLogin = () => {\r\n    setShowLoginDialog(false)\r\n    navigate('/login-account')\r\n  }\r\n  const checkBookSaved = async () => {\r\n    if (!user) return\r\n    try {\r\n      const response = await axios.get(\r\n        `http://localhost:8080/api/v1/saved-books/user/${user.userId}/${bookId}/is-saved`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        },\r\n      )\r\n      if (response.data.success) {\r\n        setIsSaved(response.data.data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking saved status:', error)\r\n    }\r\n  }\r\n  const handleSaveBook = async () => {\r\n    if (!user) {\r\n      setShowLoginDialog(true)\r\n      return\r\n    }\r\n\r\n    try {\r\n      if (isSaved) {\r\n        // Unsave book\r\n        const response = await axios.delete(\r\n          `http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n          },\r\n        )\r\n        if (response.data.success) {\r\n          setIsSaved(false)\r\n          // Có thể thêm toast hoặc notification ở đây\r\n        }\r\n      } else {\r\n        // Save book\r\n        const response = await axios.post(\r\n          `http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`,\r\n          null,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n          },\r\n        )\r\n        if (response.data.success) {\r\n          setIsSaved(true)\r\n          // Có thể thêm toast hoặc notification ở đây\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving/unsaving book:', error)\r\n      // Có thể thêm error toast ở đây\r\n    }\r\n  }\r\n\r\n  const isBanned =\r\n    user?.forumCreationBanned &&\r\n    (user?.forumCreationBanExpiresAt === null ||\r\n      new Date(user?.forumCreationBanExpiresAt) > new Date())\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      if (!localStorage.getItem('token')) return\r\n      try {\r\n        const response = await axios.get(\r\n          'http://localhost:8080/api/v1/user/profile',\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n          },\r\n        )\r\n        setUser(response.data)\r\n        // Kiểm tra trạng thái saved ngay sau khi có user data\r\n        try {\r\n          const savedResponse = await axios.get(\r\n            `http://localhost:8080/api/v1/saved-books/user/${response.data.userId}/${bookId}/is-saved`,\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n              },\r\n            },\r\n          )\r\n          if (savedResponse.data.success) {\r\n            setIsSaved(savedResponse.data.data)\r\n          }\r\n        } catch (error) {\r\n          console.error('Error checking saved status:', error)\r\n        }\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    }\r\n\r\n    const fetchBookDetails = async () => {\r\n      try {\r\n        const response = await fetch(`https://gutendex.com/books/${bookId}/`)\r\n        if (!response.ok) throw new Error('Failed to fetch book details')\r\n        const data = await response.json()\r\n        setBookDetails(data)\r\n        setLoading(false)\r\n      } catch (err) {\r\n        setError('Failed to fetch book details')\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    const handleResize = () => {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      })\r\n    }\r\n\r\n    fetchBookDetails()\r\n    getUser() // Không cần .then nữa vì đã xử lý trong hàm getUser\r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [bookId]) // Thêm bookId vào dependencies\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [bookDetails])\r\n\r\n  if (loading)\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          minHeight: '100vh',\r\n        }}>\r\n        <CircularProgress size={24} />\r\n      </Box>\r\n    )\r\n\r\n  if (error)\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          minHeight: '100vh',\r\n          color: 'error.main',\r\n        }}>\r\n        {error}\r\n      </Box>\r\n    )\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        minHeight: '100vh',\r\n        bgcolor: colors.themeLight.color060d13,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n      }}>\r\n      <HeaderComponent centerContent={bookTitle} showSearch={false} />\r\n\r\n      <Container sx={{pt: 12, pb: 6}}>\r\n        <Grid container spacing={4}>\r\n          <Grid item xs={12} md={4}>\r\n            <Box sx={{position: 'sticky', top: 24}}>\r\n              <Card\r\n                sx={{\r\n                  bgcolor: 'background.paper',\r\n                  boxShadow: theme =>\r\n                    `0 8px 24px ${theme.palette.common.black}20`,\r\n                }}>\r\n                <CardContent sx={{p: 0, '&:last-child': {pb: 0}}}>\r\n                  <Box\r\n                    sx={{\r\n                      position: 'relative',\r\n                      '&:hover .overlay': {opacity: 1},\r\n                    }}>\r\n                    <img\r\n                      src={bookDetails?.formats?.['image/jpeg']}\r\n                      alt={bookDetails.title}\r\n                      style={{\r\n                        width: '100%',\r\n                        height: 'auto',\r\n                        display: 'block',\r\n                      }}\r\n                    />\r\n                    <Box\r\n                      className='overlay'\r\n                      sx={{\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        bgcolor: 'rgba(0,0,0,0.4)',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        opacity: 0,\r\n                        transition: 'opacity 0.3s',\r\n                      }}>\r\n                      <Button\r\n                        variant='contained'\r\n                        startIcon={<BookOpen />}\r\n                        onClick={() =>\r\n                          navigate('/read-book-screen', {\r\n                            state: {bookId, bookTitle},\r\n                          })\r\n                        }\r\n                        sx={{\r\n                          bgcolor: 'white',\r\n                          color: 'text.primary',\r\n                          '&:hover': {bgcolor: 'grey.100'},\r\n                        }}>\r\n                        Read Now\r\n                      </Button>\r\n                    </Box>\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            </Box>\r\n          </Grid>\r\n          <Grid item xs={12} md={8}>\r\n            <Card\r\n              sx={{\r\n                bgcolor: 'background.paper',\r\n                boxShadow: theme =>\r\n                  `0 8px 24px ${theme.palette.common.black}20`,\r\n              }}>\r\n              <CardContent sx={{paddingLeft: 4, paddingRight: 4}}>\r\n                <Box\r\n                  sx={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'flex-start',\r\n                    mb: 1,\r\n                  }}>\r\n                  <Box>\r\n                    <Typography variant='h4' component='h1' gutterBottom>\r\n                      {bookDetails.title}\r\n                    </Typography>\r\n                    <Typography variant='h6' color='text.secondary'>\r\n                      by{' '}\r\n                      {bookDetails.authors\r\n                        .map(author => author.name)\r\n                        .join(', ')}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Button\r\n                    variant='contained'\r\n                    startIcon={<MessageCircle />}\r\n                    onClick={() => {\r\n                      if (!user) {\r\n                        setShowLoginDialog(true)\r\n                      } else if (isBanned) {\r\n                        // You could add a toast notification here to inform the user why they can't create a forum\r\n                        return\r\n                      } else {\r\n                        console.log(`Create forum ${bookDetails?.formats?.['image/jpeg']}`)\r\n                        navigate('/create-forum', {\r\n                          state: {\r\n                            bookId,\r\n                            bookTitle,\r\n                            authors: bookDetails.authors\r\n                              .map(author => author.name)\r\n                              .join(', '),\r\n                            coverBook:\r\n                              bookDetails?.formats?.['image/jpeg'],\r\n                            subjects: bookDetails.subjects,\r\n                          },\r\n                        })\r\n                      }\r\n                    }}\r\n                    disabled={isBanned}\r\n                    sx={{\r\n                      bgcolor: isBanned ? 'grey.500' : 'primary.main',\r\n                      '&:hover': {\r\n                        bgcolor: isBanned ? 'grey.600' : 'primary.dark',\r\n                      },\r\n                      '&.Mui-disabled': {\r\n                        bgcolor: 'grey.500',\r\n                        color: 'white',\r\n                      },\r\n                    }}>\r\n                    {isBanned ? 'Forum Creation Restricted' : 'Create Forum'}\r\n                  </Button>\r\n                </Box>\r\n\r\n                <Grid container spacing={3} sx={{mb: 3}}>\r\n                  <Grid item xs={12} md={8}>\r\n                    <Typography variant='h6' gutterBottom>\r\n                      Subjects\r\n                    </Typography>\r\n                    <Box sx={{display: 'flex', flexWrap: 'wrap', gap: 1}}>\r\n                      {bookDetails.subjects.map((subject, index) => (\r\n                        <Chip\r\n                          key={index}\r\n                          label={subject}\r\n                          sx={{\r\n                            bgcolor: 'white',\r\n                            color: 'primary.main',\r\n                            border: `1px solid`,\r\n                            borderColor: 'primary.main',\r\n                          }}\r\n                        />\r\n                      ))}\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Typography variant='h6' gutterBottom>\r\n                      Language\r\n                    </Typography>\r\n                    <Typography color='text.secondary'>\r\n                      {bookDetails.languages\r\n                        .map(\r\n                          langValue =>\r\n                            languages.find(lang => lang.value === langValue)\r\n                              ?.label || langValue,\r\n                        )\r\n                        .join(', ')}\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={8}>\r\n                    <Typography variant='h6' gutterBottom>\r\n                      Publisher\r\n                    </Typography>\r\n                    <Typography color='text.secondary'>\r\n                      Project Gutenberg\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Typography variant='h6' gutterBottom>\r\n                      Downloads\r\n                    </Typography>\r\n                    <Typography color='text.secondary'>\r\n                      {bookDetails.download_count.toLocaleString()}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n\r\n                <Divider sx={{my: 3}} />\r\n                <Box sx={{display: 'flex', gap: 2, mt: 3}}>\r\n                  <Button\r\n                    variant='contained'\r\n                    startIcon={<BookOpen />}\r\n                    onClick={() =>\r\n                      navigate('/read-book-screen', {\r\n                        state: {bookId, bookTitle},\r\n                      })\r\n                    }\r\n                    fullWidth>\r\n                    Read Book\r\n                  </Button>\r\n                  <Button\r\n                    variant='outlined'\r\n                    startIcon={<BookmarkPlus />}\r\n                    onClick={handleSaveBook}\r\n                    fullWidth>\r\n                    {isSaved ? 'Unsave Book' : 'Save for Later'}\r\n                  </Button>\r\n                  {/* <Button\r\n                    variant='outlined'\r\n                    startIcon={<Download />}\r\n                    fullWidth\r\n                    onClick={() => {\r\n                      window.open(\r\n                        bookDetails.formats['application/x-mobipocket-ebook'],\r\n                        `_blank`,\r\n                      )\r\n                    }}>\r\n                    Downloads\r\n                  </Button> */}\r\n                  <Button variant='outlined' startIcon={<Share2 />} fullWidth>\r\n                    Share\r\n                  </Button>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n        <SimilarAuthorBooks bookId={bookId} />\r\n\r\n        <BookReviews\r\n          bookId={bookId}\r\n          onWriteReview={() => {\r\n            if (!user) {\r\n              setShowLoginDialog(true)\r\n            } else {\r\n              setShowReviewDialog(true)\r\n            }\r\n          }}\r\n          refreshTrigger={shouldRefreshReviews}\r\n          currentUser={user}\r\n        />\r\n      </Container>\r\n      <LoginDialog\r\n        open={showLoginDialog}\r\n        onClose={() => setShowLoginDialog(false)}\r\n        onLogin={handleLogin}\r\n      />\r\n\r\n      <ReviewDialog\r\n        open={showReviewDialog}\r\n        onClose={() => {\r\n          setShowReviewDialog(false)\r\n        }}\r\n        onReviewSubmit={() => {\r\n          setShowReviewDialog(false)\r\n          setShouldRefreshReviews(prevState => prevState + 1) // Tăng giá trị để trigger refresh\r\n        }}\r\n        bookId={bookId}\r\n        currentUser={user}\r\n      />\r\n      <Footer />\r\n    </Box>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,SAAQC,WAAW,EAAEC,WAAW,QAAO,kBAAkB;AACzD,SAAQC,QAAQ,EAAEC,aAAa,EAAEC,MAAM,EAAEC,YAAY,QAAO,cAAc;AAC1E,SACEC,IAAI,EACJC,WAAW,EACXC,MAAM,EACNC,UAAU,EACVC,IAAI,EACJC,OAAO,EACPC,GAAG,EACHC,SAAS,EACTC,IAAI,EACJC,gBAAgB,QACX,eAAe;AACtB,SAAQC,MAAM,QAAO,iBAAiB;AACtC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,eAAe,MAAM,wCAAwC;AACpE,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,WAAW,MAAM,qCAAqC;AAC7D,OAAOC,YAAY,MAAM,gBAAgB;AACzC,SAAQC,QAAQ,QAAO,qBAAqB;AAC5C,OAAOC,kBAAkB,MAAM,oDAAoD;AACnF,OAAOC,MAAM,MAAM,+BAA+B;AAClD,SAAQC,SAAS,QAAO,4BAA4B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpD,eAAe,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,oBAAA;EACxC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGlC,QAAQ,CAAC;IAC3CmC,KAAK,EAAEC,MAAM,CAACC,UAAU;IACxBC,MAAM,EAAEF,MAAM,CAACG;EACjB,CAAC,CAAC;EACF,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAAC0C,WAAW,EAAEC,cAAc,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC4C,OAAO,EAAEC,UAAU,CAAC,GAAG7C,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC8C,KAAK,EAAEC,QAAQ,CAAC,GAAG/C,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAMgD,QAAQ,GAAG9C,WAAW,CAAC,CAAC;EAC9B,MAAM+C,QAAQ,GAAG9C,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAC+C,MAAM;IAAEC;EAAS,CAAC,GAAGF,QAAQ,CAACG,KAAK,IAAI,CAAC,CAAC;EAChD,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGtD,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACuD,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGxD,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACyD,oBAAoB,EAAEC,uBAAuB,CAAC,GAAG1D,QAAQ,CAAC,CAAC,CAAC;EACnE,MAAM,CAAC2D,OAAO,EAAEC,UAAU,CAAC,GAAG5D,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAM6D,WAAW,GAAGA,CAAA,KAAM;IACxBP,kBAAkB,CAAC,KAAK,CAAC;IACzBN,QAAQ,CAAC,gBAAgB,CAAC;EAC5B,CAAC;EACD,MAAMc,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI,CAACtB,IAAI,EAAE;IACX,IAAI;MACF,MAAMuB,QAAQ,GAAG,MAAM5C,KAAK,CAAC6C,GAAG,CAC9B,iDAAiDxB,IAAI,CAACyB,MAAM,IAAIf,MAAM,WAAW,EACjF;QACEgB,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QACxD;MACF,CACF,CAAC;MACD,IAAIN,QAAQ,CAACO,IAAI,CAACC,OAAO,EAAE;QACzBX,UAAU,CAACG,QAAQ,CAACO,IAAI,CAACA,IAAI,CAAC;MAChC;IACF,CAAC,CAAC,OAAOxB,KAAK,EAAE;MACd0B,OAAO,CAAC1B,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACtD;EACF,CAAC;EACD,MAAM2B,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI,CAACjC,IAAI,EAAE;MACTc,kBAAkB,CAAC,IAAI,CAAC;MACxB;IACF;IAEA,IAAI;MACF,IAAIK,OAAO,EAAE;QACX;QACA,MAAMI,QAAQ,GAAG,MAAM5C,KAAK,CAACuD,MAAM,CACjC,iDAAiDlC,IAAI,CAACyB,MAAM,SAASf,MAAM,EAAE,EAC7E;UACEgB,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CACF,CAAC;QACD,IAAIN,QAAQ,CAACO,IAAI,CAACC,OAAO,EAAE;UACzBX,UAAU,CAAC,KAAK,CAAC;UACjB;QACF;MACF,CAAC,MAAM;QACL;QACA,MAAMG,QAAQ,GAAG,MAAM5C,KAAK,CAACwD,IAAI,CAC/B,iDAAiDnC,IAAI,CAACyB,MAAM,SAASf,MAAM,EAAE,EAC7E,IAAI,EACJ;UACEgB,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CACF,CAAC;QACD,IAAIN,QAAQ,CAACO,IAAI,CAACC,OAAO,EAAE;UACzBX,UAAU,CAAC,IAAI,CAAC;UAChB;QACF;MACF;IACF,CAAC,CAAC,OAAOd,KAAK,EAAE;MACd0B,OAAO,CAAC1B,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD;IACF;EACF,CAAC;EAED,MAAM8B,QAAQ,GACZ,CAAApC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqC,mBAAmB,MACxB,CAAArC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsC,yBAAyB,MAAK,IAAI,IACvC,IAAIC,IAAI,CAACvC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsC,yBAAyB,CAAC,GAAG,IAAIC,IAAI,CAAC,CAAC,CAAC;EAE3D9E,SAAS,CAAC,MAAM;IACd,MAAM+E,OAAO,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI,CAACZ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;MACpC,IAAI;QACF,MAAMN,QAAQ,GAAG,MAAM5C,KAAK,CAAC6C,GAAG,CAC9B,2CAA2C,EAC3C;UACEE,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CACF,CAAC;QACD5B,OAAO,CAACsB,QAAQ,CAACO,IAAI,CAAC;QACtB;QACA,IAAI;UACF,MAAMW,aAAa,GAAG,MAAM9D,KAAK,CAAC6C,GAAG,CACnC,iDAAiDD,QAAQ,CAACO,IAAI,CAACL,MAAM,IAAIf,MAAM,WAAW,EAC1F;YACEgB,OAAO,EAAE;cACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;YACxD;UACF,CACF,CAAC;UACD,IAAIY,aAAa,CAACX,IAAI,CAACC,OAAO,EAAE;YAC9BX,UAAU,CAACqB,aAAa,CAACX,IAAI,CAACA,IAAI,CAAC;UACrC;QACF,CAAC,CAAC,OAAOxB,KAAK,EAAE;UACd0B,OAAO,CAAC1B,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACtD;MACF,CAAC,CAAC,OAAOA,KAAK,EAAE;QACd0B,OAAO,CAAC1B,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAED,MAAMoC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI;QACF,MAAMnB,QAAQ,GAAG,MAAMoB,KAAK,CAAC,8BAA8BjC,MAAM,GAAG,CAAC;QACrE,IAAI,CAACa,QAAQ,CAACqB,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;QACjE,MAAMf,IAAI,GAAG,MAAMP,QAAQ,CAACuB,IAAI,CAAC,CAAC;QAClC3C,cAAc,CAAC2B,IAAI,CAAC;QACpBzB,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAO0C,GAAG,EAAE;QACZxC,QAAQ,CAAC,8BAA8B,CAAC;QACxCF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAED,MAAM2C,YAAY,GAAGA,CAAA,KAAM;MACzBtD,aAAa,CAAC;QACZC,KAAK,EAAEC,MAAM,CAACC,UAAU;QACxBC,MAAM,EAAEF,MAAM,CAACG;MACjB,CAAC,CAAC;IACJ,CAAC;IAED2C,gBAAgB,CAAC,CAAC;IAClBF,OAAO,CAAC,CAAC,EAAC;IACV5C,MAAM,CAACqD,gBAAgB,CAAC,QAAQ,EAAED,YAAY,CAAC;IAC/C,OAAO,MAAMpD,MAAM,CAACsD,mBAAmB,CAAC,QAAQ,EAAEF,YAAY,CAAC;EACjE,CAAC,EAAE,CAACtC,MAAM,CAAC,CAAC,EAAC;;EAEbjD,SAAS,CAAC,MAAM;IACdmC,MAAM,CAACuD,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;EACvB,CAAC,EAAE,CAACjD,WAAW,CAAC,CAAC;EAEjB,IAAIE,OAAO,EACT,oBACEf,OAAA,CAACf,GAAG;IACF8E,EAAE,EAAE;MACFC,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,QAAQ;MACpBC,cAAc,EAAE,QAAQ;MACxBC,SAAS,EAAE;IACb,CAAE;IAAAC,QAAA,eACFpE,OAAA,CAACZ,gBAAgB;MAACiF,IAAI,EAAE;IAAG;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3B,CAAC;EAGV,IAAIxD,KAAK,EACP,oBACEjB,OAAA,CAACf,GAAG;IACF8E,EAAE,EAAE;MACFC,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,QAAQ;MACpBC,cAAc,EAAE,QAAQ;MACxBC,SAAS,EAAE,OAAO;MAClBO,KAAK,EAAE;IACT,CAAE;IAAAN,QAAA,EACDnD;EAAK;IAAAqD,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;EAGV,oBACEzE,OAAA,CAACf,GAAG;IACF8E,EAAE,EAAE;MACFI,SAAS,EAAE,OAAO;MAClBQ,OAAO,EAAEtF,MAAM,CAACuF,UAAU,CAACC,WAAW;MACtCb,OAAO,EAAE,MAAM;MACfc,aAAa,EAAE;IACjB,CAAE;IAAAV,QAAA,gBACFpE,OAAA,CAACT,eAAe;MAACwF,aAAa,EAAEzD,SAAU;MAAC0D,UAAU,EAAE;IAAM;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEhEzE,OAAA,CAACd,SAAS;MAAC6E,EAAE,EAAE;QAACkB,EAAE,EAAE,EAAE;QAAEC,EAAE,EAAE;MAAC,CAAE;MAAAd,QAAA,gBAC7BpE,OAAA,CAACb,IAAI;QAACgG,SAAS;QAACC,OAAO,EAAE,CAAE;QAAAhB,QAAA,gBACzBpE,OAAA,CAACb,IAAI;UAACkG,IAAI;UAACC,EAAE,EAAE,EAAG;UAACC,EAAE,EAAE,CAAE;UAAAnB,QAAA,eACvBpE,OAAA,CAACf,GAAG;YAAC8E,EAAE,EAAE;cAACyB,QAAQ,EAAE,QAAQ;cAAEC,GAAG,EAAE;YAAE,CAAE;YAAArB,QAAA,eACrCpE,OAAA,CAACrB,IAAI;cACHoF,EAAE,EAAE;gBACFY,OAAO,EAAE,kBAAkB;gBAC3Be,SAAS,EAAEC,KAAK,IACd,cAAcA,KAAK,CAACC,OAAO,CAACC,MAAM,CAACC,KAAK;cAC5C,CAAE;cAAA1B,QAAA,eACFpE,OAAA,CAACpB,WAAW;gBAACmF,EAAE,EAAE;kBAACgC,CAAC,EAAE,CAAC;kBAAE,cAAc,EAAE;oBAACb,EAAE,EAAE;kBAAC;gBAAC,CAAE;gBAAAd,QAAA,eAC/CpE,OAAA,CAACf,GAAG;kBACF8E,EAAE,EAAE;oBACFyB,QAAQ,EAAE,UAAU;oBACpB,kBAAkB,EAAE;sBAACQ,OAAO,EAAE;oBAAC;kBACjC,CAAE;kBAAA5B,QAAA,gBACFpE,OAAA;oBACEiG,GAAG,EAAEpF,WAAW,aAAXA,WAAW,wBAAAV,oBAAA,GAAXU,WAAW,CAAEqF,OAAO,cAAA/F,oBAAA,uBAApBA,oBAAA,CAAuB,YAAY,CAAE;oBAC1CgG,GAAG,EAAEtF,WAAW,CAACuF,KAAM;oBACvBC,KAAK,EAAE;sBACL/F,KAAK,EAAE,MAAM;sBACbG,MAAM,EAAE,MAAM;sBACduD,OAAO,EAAE;oBACX;kBAAE;oBAAAM,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,eACFzE,OAAA,CAACf,GAAG;oBACFqH,SAAS,EAAC,SAAS;oBACnBvC,EAAE,EAAE;sBACFyB,QAAQ,EAAE,UAAU;sBACpBC,GAAG,EAAE,CAAC;sBACNc,IAAI,EAAE,CAAC;sBACPC,KAAK,EAAE,CAAC;sBACRC,MAAM,EAAE,CAAC;sBACT9B,OAAO,EAAE,iBAAiB;sBAC1BX,OAAO,EAAE,MAAM;sBACfC,UAAU,EAAE,QAAQ;sBACpBC,cAAc,EAAE,QAAQ;sBACxB8B,OAAO,EAAE,CAAC;sBACVU,UAAU,EAAE;oBACd,CAAE;oBAAAtC,QAAA,eACFpE,OAAA,CAACnB,MAAM;sBACL8H,OAAO,EAAC,WAAW;sBACnBC,SAAS,eAAE5G,OAAA,CAACzB,QAAQ;wBAAA+F,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE,CAAE;sBACxBoC,OAAO,EAAEA,CAAA,KACP1F,QAAQ,CAAC,mBAAmB,EAAE;wBAC5BI,KAAK,EAAE;0BAACF,MAAM;0BAAEC;wBAAS;sBAC3B,CAAC,CACF;sBACDyC,EAAE,EAAE;wBACFY,OAAO,EAAE,OAAO;wBAChBD,KAAK,EAAE,cAAc;wBACrB,SAAS,EAAE;0BAACC,OAAO,EAAE;wBAAU;sBACjC,CAAE;sBAAAP,QAAA,EAAC;oBAEL;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACN,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACK;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eACPzE,OAAA,CAACb,IAAI;UAACkG,IAAI;UAACC,EAAE,EAAE,EAAG;UAACC,EAAE,EAAE,CAAE;UAAAnB,QAAA,eACvBpE,OAAA,CAACrB,IAAI;YACHoF,EAAE,EAAE;cACFY,OAAO,EAAE,kBAAkB;cAC3Be,SAAS,EAAEC,KAAK,IACd,cAAcA,KAAK,CAACC,OAAO,CAACC,MAAM,CAACC,KAAK;YAC5C,CAAE;YAAA1B,QAAA,eACFpE,OAAA,CAACpB,WAAW;cAACmF,EAAE,EAAE;gBAAC+C,WAAW,EAAE,CAAC;gBAAEC,YAAY,EAAE;cAAC,CAAE;cAAA3C,QAAA,gBACjDpE,OAAA,CAACf,GAAG;gBACF8E,EAAE,EAAE;kBACFC,OAAO,EAAE,MAAM;kBACfE,cAAc,EAAE,eAAe;kBAC/BD,UAAU,EAAE,YAAY;kBACxB+C,EAAE,EAAE;gBACN,CAAE;gBAAA5C,QAAA,gBACFpE,OAAA,CAACf,GAAG;kBAAAmF,QAAA,gBACFpE,OAAA,CAAClB,UAAU;oBAAC6H,OAAO,EAAC,IAAI;oBAACM,SAAS,EAAC,IAAI;oBAACC,YAAY;oBAAA9C,QAAA,EACjDvD,WAAW,CAACuF;kBAAK;oBAAA9B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACR,CAAC,eACbzE,OAAA,CAAClB,UAAU;oBAAC6H,OAAO,EAAC,IAAI;oBAACjC,KAAK,EAAC,gBAAgB;oBAAAN,QAAA,GAAC,IAC5C,EAAC,GAAG,EACLvD,WAAW,CAACsG,OAAO,CACjBC,GAAG,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,CAAC,CAC1BC,IAAI,CAAC,IAAI,CAAC;kBAAA;oBAAAjD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACV,CAAC,eACNzE,OAAA,CAACnB,MAAM;kBACL8H,OAAO,EAAC,WAAW;kBACnBC,SAAS,eAAE5G,OAAA,CAACxB,aAAa;oBAAA8F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAE;kBAC7BoC,OAAO,EAAEA,CAAA,KAAM;oBACb,IAAI,CAAClG,IAAI,EAAE;sBACTc,kBAAkB,CAAC,IAAI,CAAC;oBAC1B,CAAC,MAAM,IAAIsB,QAAQ,EAAE;sBACnB;sBACA;oBACF,CAAC,MAAM;sBAAA,IAAAyE,qBAAA,EAAAC,qBAAA;sBACL9E,OAAO,CAAC+E,GAAG,CAAC,gBAAgB7G,WAAW,aAAXA,WAAW,wBAAA2G,qBAAA,GAAX3G,WAAW,CAAEqF,OAAO,cAAAsB,qBAAA,uBAApBA,qBAAA,CAAuB,YAAY,CAAC,EAAE,CAAC;sBACnErG,QAAQ,CAAC,eAAe,EAAE;wBACxBI,KAAK,EAAE;0BACLF,MAAM;0BACNC,SAAS;0BACT6F,OAAO,EAAEtG,WAAW,CAACsG,OAAO,CACzBC,GAAG,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,CAAC,CAC1BC,IAAI,CAAC,IAAI,CAAC;0BACbI,SAAS,EACP9G,WAAW,aAAXA,WAAW,wBAAA4G,qBAAA,GAAX5G,WAAW,CAAEqF,OAAO,cAAAuB,qBAAA,uBAApBA,qBAAA,CAAuB,YAAY,CAAC;0BACtCG,QAAQ,EAAE/G,WAAW,CAAC+G;wBACxB;sBACF,CAAC,CAAC;oBACJ;kBACF,CAAE;kBACFC,QAAQ,EAAE9E,QAAS;kBACnBgB,EAAE,EAAE;oBACFY,OAAO,EAAE5B,QAAQ,GAAG,UAAU,GAAG,cAAc;oBAC/C,SAAS,EAAE;sBACT4B,OAAO,EAAE5B,QAAQ,GAAG,UAAU,GAAG;oBACnC,CAAC;oBACD,gBAAgB,EAAE;sBAChB4B,OAAO,EAAE,UAAU;sBACnBD,KAAK,EAAE;oBACT;kBACF,CAAE;kBAAAN,QAAA,EACDrB,QAAQ,GAAG,2BAA2B,GAAG;gBAAc;kBAAAuB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eAENzE,OAAA,CAACb,IAAI;gBAACgG,SAAS;gBAACC,OAAO,EAAE,CAAE;gBAACrB,EAAE,EAAE;kBAACiD,EAAE,EAAE;gBAAC,CAAE;gBAAA5C,QAAA,gBACtCpE,OAAA,CAACb,IAAI;kBAACkG,IAAI;kBAACC,EAAE,EAAE,EAAG;kBAACC,EAAE,EAAE,CAAE;kBAAAnB,QAAA,gBACvBpE,OAAA,CAAClB,UAAU;oBAAC6H,OAAO,EAAC,IAAI;oBAACO,YAAY;oBAAA9C,QAAA,EAAC;kBAEtC;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAY,CAAC,eACbzE,OAAA,CAACf,GAAG;oBAAC8E,EAAE,EAAE;sBAACC,OAAO,EAAE,MAAM;sBAAE8D,QAAQ,EAAE,MAAM;sBAAEC,GAAG,EAAE;oBAAC,CAAE;oBAAA3D,QAAA,EAClDvD,WAAW,CAAC+G,QAAQ,CAACR,GAAG,CAAC,CAACY,OAAO,EAAEC,KAAK,kBACvCjI,OAAA,CAACjB,IAAI;sBAEHmJ,KAAK,EAAEF,OAAQ;sBACfjE,EAAE,EAAE;wBACFY,OAAO,EAAE,OAAO;wBAChBD,KAAK,EAAE,cAAc;wBACrByD,MAAM,EAAE,WAAW;wBACnBC,WAAW,EAAE;sBACf;oBAAE,GAPGH,KAAK;sBAAA3D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAQX,CACF;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF,CAAC,eACPzE,OAAA,CAACb,IAAI;kBAACkG,IAAI;kBAACC,EAAE,EAAE,EAAG;kBAACC,EAAE,EAAE,CAAE;kBAAAnB,QAAA,gBACvBpE,OAAA,CAAClB,UAAU;oBAAC6H,OAAO,EAAC,IAAI;oBAACO,YAAY;oBAAA9C,QAAA,EAAC;kBAEtC;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAY,CAAC,eACbzE,OAAA,CAAClB,UAAU;oBAAC4F,KAAK,EAAC,gBAAgB;oBAAAN,QAAA,EAC/BvD,WAAW,CAACf,SAAS,CACnBsH,GAAG,CACFiB,SAAS;sBAAA,IAAAC,eAAA;sBAAA,OACP,EAAAA,eAAA,GAAAxI,SAAS,CAACyI,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,KAAK,KAAKJ,SAAS,CAAC,cAAAC,eAAA,uBAAhDA,eAAA,CACIJ,KAAK,KAAIG,SAAS;oBAAA,CAC1B,CAAC,CACAd,IAAI,CAAC,IAAI;kBAAC;oBAAAjD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC,eACPzE,OAAA,CAACb,IAAI;kBAACkG,IAAI;kBAACC,EAAE,EAAE,EAAG;kBAACC,EAAE,EAAE,CAAE;kBAAAnB,QAAA,gBACvBpE,OAAA,CAAClB,UAAU;oBAAC6H,OAAO,EAAC,IAAI;oBAACO,YAAY;oBAAA9C,QAAA,EAAC;kBAEtC;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAY,CAAC,eACbzE,OAAA,CAAClB,UAAU;oBAAC4F,KAAK,EAAC,gBAAgB;oBAAAN,QAAA,EAAC;kBAEnC;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAY,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC,eACPzE,OAAA,CAACb,IAAI;kBAACkG,IAAI;kBAACC,EAAE,EAAE,EAAG;kBAACC,EAAE,EAAE,CAAE;kBAAAnB,QAAA,gBACvBpE,OAAA,CAAClB,UAAU;oBAAC6H,OAAO,EAAC,IAAI;oBAACO,YAAY;oBAAA9C,QAAA,EAAC;kBAEtC;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAY,CAAC,eACbzE,OAAA,CAAClB,UAAU;oBAAC4F,KAAK,EAAC,gBAAgB;oBAAAN,QAAA,EAC/BvD,WAAW,CAAC6H,cAAc,CAACC,cAAc,CAAC;kBAAC;oBAAArE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEPzE,OAAA,CAAChB,OAAO;gBAAC+E,EAAE,EAAE;kBAAC6E,EAAE,EAAE;gBAAC;cAAE;gBAAAtE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACxBzE,OAAA,CAACf,GAAG;gBAAC8E,EAAE,EAAE;kBAACC,OAAO,EAAE,MAAM;kBAAE+D,GAAG,EAAE,CAAC;kBAAEc,EAAE,EAAE;gBAAC,CAAE;gBAAAzE,QAAA,gBACxCpE,OAAA,CAACnB,MAAM;kBACL8H,OAAO,EAAC,WAAW;kBACnBC,SAAS,eAAE5G,OAAA,CAACzB,QAAQ;oBAAA+F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAE;kBACxBoC,OAAO,EAAEA,CAAA,KACP1F,QAAQ,CAAC,mBAAmB,EAAE;oBAC5BI,KAAK,EAAE;sBAACF,MAAM;sBAAEC;oBAAS;kBAC3B,CAAC,CACF;kBACDwH,SAAS;kBAAA1E,QAAA,EAAC;gBAEZ;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTzE,OAAA,CAACnB,MAAM;kBACL8H,OAAO,EAAC,UAAU;kBAClBC,SAAS,eAAE5G,OAAA,CAACtB,YAAY;oBAAA4F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAE;kBAC5BoC,OAAO,EAAEjE,cAAe;kBACxBkG,SAAS;kBAAA1E,QAAA,EACRtC,OAAO,GAAG,aAAa,GAAG;gBAAgB;kBAAAwC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrC,CAAC,eAaTzE,OAAA,CAACnB,MAAM;kBAAC8H,OAAO,EAAC,UAAU;kBAACC,SAAS,eAAE5G,OAAA,CAACvB,MAAM;oBAAA6F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAE;kBAACqE,SAAS;kBAAA1E,QAAA,EAAC;gBAE5D;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACPzE,OAAA,CAACJ,kBAAkB;QAACyB,MAAM,EAAEA;MAAO;QAAAiD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAEtCzE,OAAA,CAACR,WAAW;QACV6B,MAAM,EAAEA,MAAO;QACf0H,aAAa,EAAEA,CAAA,KAAM;UACnB,IAAI,CAACpI,IAAI,EAAE;YACTc,kBAAkB,CAAC,IAAI,CAAC;UAC1B,CAAC,MAAM;YACLE,mBAAmB,CAAC,IAAI,CAAC;UAC3B;QACF,CAAE;QACFqH,cAAc,EAAEpH,oBAAqB;QACrCqH,WAAW,EAAEtI;MAAK;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACO,CAAC,eACZzE,OAAA,CAACP,WAAW;MACVyJ,IAAI,EAAE1H,eAAgB;MACtB2H,OAAO,EAAEA,CAAA,KAAM1H,kBAAkB,CAAC,KAAK,CAAE;MACzC2H,OAAO,EAAEpH;IAAY;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtB,CAAC,eAEFzE,OAAA,CAACN,YAAY;MACXwJ,IAAI,EAAExH,gBAAiB;MACvByH,OAAO,EAAEA,CAAA,KAAM;QACbxH,mBAAmB,CAAC,KAAK,CAAC;MAC5B,CAAE;MACF0H,cAAc,EAAEA,CAAA,KAAM;QACpB1H,mBAAmB,CAAC,KAAK,CAAC;QAC1BE,uBAAuB,CAACyH,SAAS,IAAIA,SAAS,GAAG,CAAC,CAAC,EAAC;MACtD,CAAE;MACFjI,MAAM,EAAEA,MAAO;MACf4H,WAAW,EAAEtI;IAAK;MAAA2D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC,eACFzE,OAAA,CAACH,MAAM;MAAAyE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAACvE,EAAA,CA3buBD,eAAe;EAAA,QASpB5B,WAAW,EACXC,WAAW;AAAA;AAAAiL,EAAA,GAVNtJ,eAAe;AAAA,IAAAsJ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}