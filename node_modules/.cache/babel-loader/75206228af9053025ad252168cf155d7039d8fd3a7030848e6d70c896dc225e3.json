{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import{BookOpen,MessageCircle,Share2,BookmarkPlus}from'lucide-react';import{Card,CardContent,Button,Typography,Chip,Divider,Box,Container,Grid,CircularProgress}from'@mui/material';import{colors}from'../../../constants';import axios from'axios';import HeaderComponent from'../../../component/header/HeaderComponent';import BookReviews from'./BookReviews';import LoginDialog from'../../../component/dialogs/LoginDialog';import ReviewDialog from'./ReviewDialog';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DescriptionBook(){const[windowSize,setWindowSize]=useState({width:window.innerWidth,height:window.innerHeight});const[user,setUser]=useState(null);const[bookDetails,setBookDetails]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();const location=useLocation();const{bookId,bookTitle}=location.state||{};const[showLoginDialog,setShowLoginDialog]=useState(false);const[showReviewDialog,setShowReviewDialog]=useState(false);const[shouldRefreshReviews,setShouldRefreshReviews]=useState(0);const[isSaved,setIsSaved]=useState(false);const handleLogin=()=>{setShowLoginDialog(false);navigate('/login-account');};const checkBookSaved=async()=>{if(!user)return;try{const response=await axios.get(`http://localhost:8080/api/v1/saved-books/user/${user.userId}/${bookId}/is-saved`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(response.data.success){setIsSaved(response.data.data);}}catch(error){console.error('Error checking saved status:',error);}};const handleSaveBook=async()=>{if(!user){setShowLoginDialog(true);return;}try{if(isSaved){// Unsave book\nconst response=await axios.delete(`http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(response.data.success){setIsSaved(false);// Có thể thêm toast hoặc notification ở đây\n}}else{// Save book\nconst response=await axios.post(`http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`,null,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(response.data.success){setIsSaved(true);// Có thể thêm toast hoặc notification ở đây\n}}}catch(error){console.error('Error saving/unsaving book:',error);// Có thể thêm error toast ở đây\n}};useEffect(()=>{const getUser=async()=>{if(!localStorage.getItem('token'))return;try{const response=await axios.get('http://localhost:8080/api/v1/user/profile',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setUser(response.data);// Kiểm tra trạng thái saved ngay sau khi có user data\ntry{const savedResponse=await axios.get(`http://localhost:8080/api/v1/saved-books/user/${response.data.userId}/${bookId}/is-saved`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(savedResponse.data.success){setIsSaved(savedResponse.data.data);}}catch(error){console.error('Error checking saved status:',error);}}catch(error){console.error(error);}};const fetchBookDetails=async()=>{try{const response=await fetch(`https://gutendex.com/books/${bookId}/`);if(!response.ok)throw new Error('Failed to fetch book details');const data=await response.json();setBookDetails(data);setLoading(false);}catch(err){setError('Failed to fetch book details');setLoading(false);}};const handleResize=()=>{setWindowSize({width:window.innerWidth,height:window.innerHeight});};fetchBookDetails();getUser();// Không cần .then nữa vì đã xử lý trong hàm getUser\nwindow.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[bookId]);// Thêm bookId vào dependencies\nif(loading)return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'100vh'},children:/*#__PURE__*/_jsx(CircularProgress,{size:24})});if(error)return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'100vh',color:'error.main'},children:error});return/*#__PURE__*/_jsxs(Box,{sx:{minHeight:'100vh',bgcolor:colors.themeLight.color060d13,display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(HeaderComponent,{centerContent:bookTitle,showSearch:false}),/*#__PURE__*/_jsxs(Container,{sx:{pt:12,pb:6},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Box,{sx:{position:'sticky',top:24},children:/*#__PURE__*/_jsx(Card,{sx:{bgcolor:'background.paper',boxShadow:theme=>`0 8px 24px ${theme.palette.common.black}20`},children:/*#__PURE__*/_jsx(CardContent,{sx:{p:0,'&:last-child':{pb:0}},children:/*#__PURE__*/_jsxs(Box,{sx:{position:'relative','&:hover .overlay':{opacity:1}},children:[/*#__PURE__*/_jsx(\"img\",{src:bookDetails.formats['image/jpeg'],alt:bookDetails.title,style:{width:'100%',height:'auto',display:'block'}}),/*#__PURE__*/_jsx(Box,{className:\"overlay\",sx:{position:'absolute',top:0,left:0,right:0,bottom:0,bgcolor:'rgba(0,0,0,0.4)',display:'flex',alignItems:'center',justifyContent:'center',opacity:0,transition:'opacity 0.3s'},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(BookOpen,{}),onClick:()=>navigate('/read-book-screen',{state:{bookId,bookTitle}}),sx:{bgcolor:'white',color:'text.primary','&:hover':{bgcolor:'grey.100'}},children:\"Read Now\"})})]})})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsx(Card,{sx:{bgcolor:'background.paper',boxShadow:theme=>`0 8px 24px ${theme.palette.common.black}20`},children:/*#__PURE__*/_jsxs(CardContent,{sx:{paddingLeft:4,paddingRight:4},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',mb:1},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:bookDetails.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"text.secondary\",children:[\"by\",' ',bookDetails.authors.map(author=>author.name).join(', ')]})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(MessageCircle,{}),onClick:()=>{if(!user){setShowLoginDialog(true);}else navigate('/create-forum',{state:{bookId,bookTitle,authors:bookDetails.authors.map(author=>author.name).join(', '),defaultCoverImage:bookDetails.formats['image/jpeg'],subjects:bookDetails.subjects}});},sx:{bgcolor:'primary.main'},children:\"Create Forum\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:3},children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:8,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Subjects\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',flexWrap:'wrap',gap:1},children:bookDetails.subjects.map((subject,index)=>/*#__PURE__*/_jsx(Chip,{label:subject,sx:{bgcolor:'white',color:'primary.main',border:`1px solid`,borderColor:'primary.main'}},index))})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Language\"}),/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:bookDetails.languages.map(lang=>lang.toUpperCase()).join(', ')})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:8,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Publisher\"}),/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"Project Gutenberg\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Downloads\"}),/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:bookDetails.download_count.toLocaleString()})]})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:3}}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,mt:3},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(BookOpen,{}),onClick:()=>navigate('/read-book-screen',{state:{bookId,bookTitle}}),fullWidth:true,children:\"Read Book\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(BookmarkPlus,{}),onClick:handleSaveBook,fullWidth:true,children:isSaved?'Unsave Book':'Save for Later'}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Share2,{}),fullWidth:true,children:\"Share\"})]})]})})})]}),/*#__PURE__*/_jsx(BookReviews,{bookId:bookId,onWriteReview:()=>{if(!user){setShowLoginDialog(true);}else{setShowReviewDialog(true);}},refreshTrigger:shouldRefreshReviews,currentUser:user})]}),/*#__PURE__*/_jsx(LoginDialog,{open:showLoginDialog,onClose:()=>setShowLoginDialog(false),onLogin:handleLogin}),/*#__PURE__*/_jsx(ReviewDialog,{open:showReviewDialog,onClose:()=>{setShowReviewDialog(false);},onReviewSubmit:()=>{setShowReviewDialog(false);setShouldRefreshReviews(prevState=>prevState+1);// Tăng giá trị để trigger refresh\n},bookId:bookId,currentUser:user})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","BookOpen","MessageCircle","Share2","BookmarkPlus","Card","CardContent","Button","Typography","Chip","Divider","Box","Container","Grid","CircularProgress","colors","axios","HeaderComponent","BookReviews","LoginDialog","ReviewDialog","jsx","_jsx","jsxs","_jsxs","DescriptionBook","windowSize","setWindowSize","width","window","innerWidth","height","innerHeight","user","setUser","bookDetails","setBookDetails","loading","setLoading","error","setError","navigate","location","bookId","bookTitle","state","showLoginDialog","setShowLoginDialog","showReviewDialog","setShowReviewDialog","shouldRefreshReviews","setShouldRefreshReviews","isSaved","setIsSaved","handleLogin","checkBookSaved","response","get","userId","headers","Authorization","localStorage","getItem","data","success","console","handleSaveBook","delete","post","getUser","savedResponse","fetchBookDetails","fetch","ok","Error","json","err","handleResize","addEventListener","removeEventListener","sx","display","alignItems","justifyContent","minHeight","children","size","color","bgcolor","themeLight","color060d13","flexDirection","centerContent","showSearch","pt","pb","container","spacing","item","xs","md","position","top","boxShadow","theme","palette","common","black","p","opacity","src","formats","alt","title","style","className","left","right","bottom","transition","variant","startIcon","onClick","paddingLeft","paddingRight","mb","component","gutterBottom","authors","map","author","name","join","defaultCoverImage","subjects","flexWrap","gap","subject","index","label","border","borderColor","languages","lang","toUpperCase","download_count","toLocaleString","my","mt","fullWidth","onWriteReview","refreshTrigger","currentUser","open","onClose","onLogin","onReviewSubmit","prevState"],"sources":["C:/Users/TTC/OneDrive/Documents/GITHUB/fe-readhub/src/pages/description_book/views/DescriptionBook.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {useNavigate, useLocation} from 'react-router-dom'\r\nimport {BookOpen, MessageCircle, Share2, BookmarkPlus} from 'lucide-react'\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Typography,\r\n  Chip,\r\n  Divider,\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  CircularProgress,\r\n} from '@mui/material'\r\nimport {colors} from '../../../constants'\r\nimport axios from 'axios'\r\nimport HeaderComponent from '../../../component/header/HeaderComponent'\r\nimport BookReviews from './BookReviews'\r\nimport LoginDialog from '../../../component/dialogs/LoginDialog'\r\nimport ReviewDialog from './ReviewDialog'\r\n\r\nexport default function DescriptionBook() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n  })\r\n  const [user, setUser] = useState(null)\r\n  const [bookDetails, setBookDetails] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(null)\r\n  const navigate = useNavigate()\r\n  const location = useLocation()\r\n  const {bookId, bookTitle} = location.state || {}\r\n  const [showLoginDialog, setShowLoginDialog] = useState(false)\r\n  const [showReviewDialog, setShowReviewDialog] = useState(false)\r\n  const [shouldRefreshReviews, setShouldRefreshReviews] = useState(0)\r\n  const [isSaved, setIsSaved] = useState(false)\r\n\r\n  const handleLogin = () => {\r\n    setShowLoginDialog(false)\r\n    navigate('/login-account')\r\n  }\r\n  const checkBookSaved = async () => {\r\n    if (!user) return\r\n    try {\r\n      const response = await axios.get(\r\n        `http://localhost:8080/api/v1/saved-books/user/${user.userId}/${bookId}/is-saved`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        },\r\n      )\r\n      if (response.data.success) {\r\n        setIsSaved(response.data.data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking saved status:', error)\r\n    }\r\n  }\r\n  const handleSaveBook = async () => {\r\n    if (!user) {\r\n      setShowLoginDialog(true)\r\n      return\r\n    }\r\n\r\n    try {\r\n      if (isSaved) {\r\n        // Unsave book\r\n        const response = await axios.delete(\r\n          `http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n          },\r\n        )\r\n        if (response.data.success) {\r\n          setIsSaved(false)\r\n          // Có thể thêm toast hoặc notification ở đây\r\n        }\r\n      } else {\r\n        // Save book\r\n        const response = await axios.post(\r\n          `http://localhost:8080/api/v1/saved-books/user/${user.userId}/book/${bookId}`,\r\n          null,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n          },\r\n        )\r\n        if (response.data.success) {\r\n          setIsSaved(true)\r\n          // Có thể thêm toast hoặc notification ở đây\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving/unsaving book:', error)\r\n      // Có thể thêm error toast ở đây\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      if (!localStorage.getItem('token')) return\r\n      try {\r\n        const response = await axios.get(\r\n          'http://localhost:8080/api/v1/user/profile',\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n          },\r\n        )\r\n        setUser(response.data)\r\n        // Kiểm tra trạng thái saved ngay sau khi có user data\r\n        try {\r\n          const savedResponse = await axios.get(\r\n            `http://localhost:8080/api/v1/saved-books/user/${response.data.userId}/${bookId}/is-saved`,\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n              },\r\n            },\r\n          )\r\n          if (savedResponse.data.success) {\r\n            setIsSaved(savedResponse.data.data)\r\n          }\r\n        } catch (error) {\r\n          console.error('Error checking saved status:', error)\r\n        }\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    }\r\n\r\n    const fetchBookDetails = async () => {\r\n      try {\r\n        const response = await fetch(`https://gutendex.com/books/${bookId}/`)\r\n        if (!response.ok) throw new Error('Failed to fetch book details')\r\n        const data = await response.json()\r\n        setBookDetails(data)\r\n        setLoading(false)\r\n      } catch (err) {\r\n        setError('Failed to fetch book details')\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    const handleResize = () => {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      })\r\n    }\r\n\r\n    fetchBookDetails()\r\n    getUser() // Không cần .then nữa vì đã xử lý trong hàm getUser\r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [bookId]) // Thêm bookId vào dependencies\r\n\r\n  if (loading)\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          minHeight: '100vh',\r\n        }}>\r\n        <CircularProgress size={24} />\r\n      </Box>\r\n    )\r\n\r\n  if (error)\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          minHeight: '100vh',\r\n          color: 'error.main',\r\n        }}>\r\n        {error}\r\n      </Box>\r\n    )\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        minHeight: '100vh',\r\n        bgcolor: colors.themeLight.color060d13,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n      }}>\r\n      <HeaderComponent\r\n        centerContent={bookTitle}\r\n        showSearch={false}\r\n      />\r\n\r\n      <Container sx={{pt: 12, pb: 6}}>\r\n        <Grid container spacing={4}>\r\n          <Grid item xs={12} md={4}>\r\n            <Box sx={{position: 'sticky', top: 24}}>\r\n              <Card\r\n                sx={{\r\n                  bgcolor: 'background.paper',\r\n                  boxShadow: theme =>\r\n                    `0 8px 24px ${theme.palette.common.black}20`,\r\n                }}>\r\n                <CardContent sx={{p: 0, '&:last-child': {pb: 0}}}>\r\n                  <Box\r\n                    sx={{\r\n                      position: 'relative',\r\n                      '&:hover .overlay': {opacity: 1},\r\n                    }}>\r\n                    <img\r\n                      src={bookDetails.formats['image/jpeg']}\r\n                      alt={bookDetails.title}\r\n                      style={{\r\n                        width: '100%',\r\n                        height: 'auto',\r\n                        display: 'block',\r\n                      }}\r\n                    />\r\n                    <Box\r\n                      className='overlay'\r\n                      sx={{\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        bgcolor: 'rgba(0,0,0,0.4)',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        opacity: 0,\r\n                        transition: 'opacity 0.3s',\r\n                      }}>\r\n                      <Button\r\n                        variant='contained'\r\n                        startIcon={<BookOpen />}\r\n                        onClick={() =>\r\n                          navigate('/read-book-screen', {\r\n                            state: {bookId, bookTitle},\r\n                          })\r\n                        }\r\n                        sx={{\r\n                          bgcolor: 'white',\r\n                          color: 'text.primary',\r\n                          '&:hover': {bgcolor: 'grey.100'},\r\n                        }}>\r\n                        Read Now\r\n                      </Button>\r\n                    </Box>\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            </Box>\r\n          </Grid>\r\n          <Grid item xs={12} md={8}>\r\n            <Card\r\n              sx={{\r\n                bgcolor: 'background.paper',\r\n                boxShadow: theme =>\r\n                  `0 8px 24px ${theme.palette.common.black}20`,\r\n              }}>\r\n              <CardContent sx={{paddingLeft: 4, paddingRight: 4}}>\r\n                <Box\r\n                  sx={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'flex-start',\r\n                    mb: 1,\r\n                  }}>\r\n                  <Box>\r\n                    <Typography variant='h4' component='h1' gutterBottom>\r\n                      {bookDetails.title}\r\n                    </Typography>\r\n                    <Typography variant='h6' color='text.secondary'>\r\n                      by{' '}\r\n                      {bookDetails.authors\r\n                        .map(author => author.name)\r\n                        .join(', ')}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Button\r\n                    variant='contained'\r\n                    startIcon={<MessageCircle />}\r\n                    onClick={() => {\r\n                      if (!user) {\r\n                        setShowLoginDialog(true)\r\n                      } else\r\n                        navigate('/create-forum', {\r\n                          state: {\r\n                            bookId,\r\n                            bookTitle,\r\n                            authors: bookDetails.authors\r\n                              .map(author => author.name)\r\n                              .join(', '),\r\n                            defaultCoverImage:\r\n                              bookDetails.formats['image/jpeg'],\r\n                            subjects: bookDetails.subjects,\r\n                          },\r\n                        })\r\n                    }}\r\n                    sx={{bgcolor: 'primary.main'}}>\r\n                    Create Forum\r\n                  </Button>\r\n                </Box>\r\n\r\n                <Grid container spacing={3} sx={{mb: 3}}>\r\n                  <Grid item xs={12} md={8}>\r\n                    <Typography variant='h6' gutterBottom>\r\n                      Subjects\r\n                    </Typography>\r\n                    <Box sx={{display: 'flex', flexWrap: 'wrap', gap: 1}}>\r\n                      {bookDetails.subjects.map((subject, index) => (\r\n                        <Chip\r\n                          key={index}\r\n                          label={subject}\r\n                          sx={{\r\n                            bgcolor: 'white',\r\n                            color: 'primary.main',\r\n                            border: `1px solid`,\r\n                            borderColor: 'primary.main',\r\n                          }}\r\n                        />\r\n                      ))}\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Typography variant='h6' gutterBottom>\r\n                      Language\r\n                    </Typography>\r\n                    <Typography color='text.secondary'>\r\n                      {bookDetails.languages\r\n                        .map(lang => lang.toUpperCase())\r\n                        .join(', ')}\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={8}>\r\n                    <Typography variant='h6' gutterBottom>\r\n                      Publisher\r\n                    </Typography>\r\n                    <Typography color='text.secondary'>\r\n                      Project Gutenberg\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Typography variant='h6' gutterBottom>\r\n                      Downloads\r\n                    </Typography>\r\n                    <Typography color='text.secondary'>\r\n                      {bookDetails.download_count.toLocaleString()}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n\r\n                <Divider sx={{my: 3}} />\r\n                <Box sx={{display: 'flex', gap: 2, mt: 3}}>\r\n                  <Button\r\n                    variant='contained'\r\n                    startIcon={<BookOpen />}\r\n                    onClick={() =>\r\n                      navigate('/read-book-screen', {\r\n                        state: {bookId, bookTitle},\r\n                      })\r\n                    }\r\n                    fullWidth>\r\n                    Read Book\r\n                  </Button>\r\n                  <Button\r\n                    variant='outlined'\r\n                    startIcon={<BookmarkPlus />}\r\n                    onClick={handleSaveBook}\r\n                    fullWidth>\r\n                    {isSaved ? 'Unsave Book' : 'Save for Later'}\r\n                  </Button>\r\n                  <Button variant='outlined' startIcon={<Share2 />} fullWidth>\r\n                    Share\r\n                  </Button>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <BookReviews\r\n          bookId={bookId}\r\n          onWriteReview={() => {\r\n            if (!user) {\r\n              setShowLoginDialog(true)\r\n            } else {\r\n              setShowReviewDialog(true)\r\n            }\r\n          }}\r\n          refreshTrigger={shouldRefreshReviews}\r\n          currentUser={user}\r\n        />\r\n      </Container>\r\n      <LoginDialog\r\n        open={showLoginDialog}\r\n        onClose={() => setShowLoginDialog(false)}\r\n        onLogin={handleLogin}\r\n      />\r\n\r\n      <ReviewDialog\r\n        open={showReviewDialog}\r\n        onClose={() => {\r\n          setShowReviewDialog(false)\r\n        }}\r\n        onReviewSubmit={() => {\r\n          setShowReviewDialog(false)\r\n          setShouldRefreshReviews(prevState => prevState + 1) // Tăng giá trị để trigger refresh\r\n        }}\r\n        bookId={bookId}\r\n        currentUser={user}\r\n      />\r\n    </Box>\r\n  )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAAQC,WAAW,CAAEC,WAAW,KAAO,kBAAkB,CACzD,OAAQC,QAAQ,CAAEC,aAAa,CAAEC,MAAM,CAAEC,YAAY,KAAO,cAAc,CAC1E,OACEC,IAAI,CACJC,WAAW,CACXC,MAAM,CACNC,UAAU,CACVC,IAAI,CACJC,OAAO,CACPC,GAAG,CACHC,SAAS,CACTC,IAAI,CACJC,gBAAgB,KACX,eAAe,CACtB,OAAQC,MAAM,KAAO,oBAAoB,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,eAAe,KAAM,2CAA2C,CACvE,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,WAAW,KAAM,wCAAwC,CAChE,MAAO,CAAAC,YAAY,KAAM,gBAAgB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,cAAe,SAAS,CAAAC,eAAeA,CAAA,CAAG,CACxC,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAG9B,QAAQ,CAAC,CAC3C+B,KAAK,CAAEC,MAAM,CAACC,UAAU,CACxBC,MAAM,CAAEF,MAAM,CAACG,WACjB,CAAC,CAAC,CACF,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGrC,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACsC,WAAW,CAAEC,cAAc,CAAC,CAAGvC,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACwC,OAAO,CAAEC,UAAU,CAAC,CAAGzC,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC0C,KAAK,CAAEC,QAAQ,CAAC,CAAG3C,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAA4C,QAAQ,CAAG1C,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAA2C,QAAQ,CAAG1C,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAC2C,MAAM,CAAEC,SAAS,CAAC,CAAGF,QAAQ,CAACG,KAAK,EAAI,CAAC,CAAC,CAChD,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGlD,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACmD,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpD,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACqD,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGtD,QAAQ,CAAC,CAAC,CAAC,CACnE,KAAM,CAACuD,OAAO,CAAEC,UAAU,CAAC,CAAGxD,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAyD,WAAW,CAAGA,CAAA,GAAM,CACxBP,kBAAkB,CAAC,KAAK,CAAC,CACzBN,QAAQ,CAAC,gBAAgB,CAAC,CAC5B,CAAC,CACD,KAAM,CAAAc,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACtB,IAAI,CAAE,OACX,GAAI,CACF,KAAM,CAAAuB,QAAQ,CAAG,KAAM,CAAAxC,KAAK,CAACyC,GAAG,CAC9B,iDAAiDxB,IAAI,CAACyB,MAAM,IAAIf,MAAM,WAAW,CACjF,CACEgB,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EACxD,CACF,CACF,CAAC,CACD,GAAIN,QAAQ,CAACO,IAAI,CAACC,OAAO,CAAE,CACzBX,UAAU,CAACG,QAAQ,CAACO,IAAI,CAACA,IAAI,CAAC,CAChC,CACF,CAAE,MAAOxB,KAAK,CAAE,CACd0B,OAAO,CAAC1B,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CACD,KAAM,CAAA2B,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACjC,IAAI,CAAE,CACTc,kBAAkB,CAAC,IAAI,CAAC,CACxB,OACF,CAEA,GAAI,CACF,GAAIK,OAAO,CAAE,CACX;AACA,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAxC,KAAK,CAACmD,MAAM,CACjC,iDAAiDlC,IAAI,CAACyB,MAAM,SAASf,MAAM,EAAE,CAC7E,CACEgB,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EACxD,CACF,CACF,CAAC,CACD,GAAIN,QAAQ,CAACO,IAAI,CAACC,OAAO,CAAE,CACzBX,UAAU,CAAC,KAAK,CAAC,CACjB;AACF,CACF,CAAC,IAAM,CACL;AACA,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAxC,KAAK,CAACoD,IAAI,CAC/B,iDAAiDnC,IAAI,CAACyB,MAAM,SAASf,MAAM,EAAE,CAC7E,IAAI,CACJ,CACEgB,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EACxD,CACF,CACF,CAAC,CACD,GAAIN,QAAQ,CAACO,IAAI,CAACC,OAAO,CAAE,CACzBX,UAAU,CAAC,IAAI,CAAC,CAChB;AACF,CACF,CACF,CAAE,MAAOd,KAAK,CAAE,CACd0B,OAAO,CAAC1B,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD;AACF,CACF,CAAC,CAEDzC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuE,OAAO,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CAACR,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE,OACpC,GAAI,CACF,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAxC,KAAK,CAACyC,GAAG,CAC9B,2CAA2C,CAC3C,CACEE,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EACxD,CACF,CACF,CAAC,CACD5B,OAAO,CAACsB,QAAQ,CAACO,IAAI,CAAC,CACtB;AACA,GAAI,CACF,KAAM,CAAAO,aAAa,CAAG,KAAM,CAAAtD,KAAK,CAACyC,GAAG,CACnC,iDAAiDD,QAAQ,CAACO,IAAI,CAACL,MAAM,IAAIf,MAAM,WAAW,CAC1F,CACEgB,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EACxD,CACF,CACF,CAAC,CACD,GAAIQ,aAAa,CAACP,IAAI,CAACC,OAAO,CAAE,CAC9BX,UAAU,CAACiB,aAAa,CAACP,IAAI,CAACA,IAAI,CAAC,CACrC,CACF,CAAE,MAAOxB,KAAK,CAAE,CACd0B,OAAO,CAAC1B,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAE,MAAOA,KAAK,CAAE,CACd0B,OAAO,CAAC1B,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAgC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAf,QAAQ,CAAG,KAAM,CAAAgB,KAAK,CAAC,8BAA8B7B,MAAM,GAAG,CAAC,CACrE,GAAI,CAACa,QAAQ,CAACiB,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,8BAA8B,CAAC,CACjE,KAAM,CAAAX,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACmB,IAAI,CAAC,CAAC,CAClCvC,cAAc,CAAC2B,IAAI,CAAC,CACpBzB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOsC,GAAG,CAAE,CACZpC,QAAQ,CAAC,8BAA8B,CAAC,CACxCF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAuC,YAAY,CAAGA,CAAA,GAAM,CACzBlD,aAAa,CAAC,CACZC,KAAK,CAAEC,MAAM,CAACC,UAAU,CACxBC,MAAM,CAAEF,MAAM,CAACG,WACjB,CAAC,CAAC,CACJ,CAAC,CAEDuC,gBAAgB,CAAC,CAAC,CAClBF,OAAO,CAAC,CAAC,CAAC;AACVxC,MAAM,CAACiD,gBAAgB,CAAC,QAAQ,CAAED,YAAY,CAAC,CAC/C,MAAO,IAAMhD,MAAM,CAACkD,mBAAmB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CACjE,CAAC,CAAE,CAAClC,MAAM,CAAC,CAAC,CAAC;AAEb,GAAIN,OAAO,CACT,mBACEf,IAAA,CAACX,GAAG,EACFqE,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBC,SAAS,CAAE,OACb,CAAE,CAAAC,QAAA,cACF/D,IAAA,CAACR,gBAAgB,EAACwE,IAAI,CAAE,EAAG,CAAE,CAAC,CAC3B,CAAC,CAGV,GAAI/C,KAAK,CACP,mBACEjB,IAAA,CAACX,GAAG,EACFqE,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBC,SAAS,CAAE,OAAO,CAClBG,KAAK,CAAE,YACT,CAAE,CAAAF,QAAA,CACD9C,KAAK,CACH,CAAC,CAGV,mBACEf,KAAA,CAACb,GAAG,EACFqE,EAAE,CAAE,CACFI,SAAS,CAAE,OAAO,CAClBI,OAAO,CAAEzE,MAAM,CAAC0E,UAAU,CAACC,WAAW,CACtCT,OAAO,CAAE,MAAM,CACfU,aAAa,CAAE,QACjB,CAAE,CAAAN,QAAA,eACF/D,IAAA,CAACL,eAAe,EACd2E,aAAa,CAAEhD,SAAU,CACzBiD,UAAU,CAAE,KAAM,CACnB,CAAC,cAEFrE,KAAA,CAACZ,SAAS,EAACoE,EAAE,CAAE,CAACc,EAAE,CAAE,EAAE,CAAEC,EAAE,CAAE,CAAC,CAAE,CAAAV,QAAA,eAC7B7D,KAAA,CAACX,IAAI,EAACmF,SAAS,MAACC,OAAO,CAAE,CAAE,CAAAZ,QAAA,eACzB/D,IAAA,CAACT,IAAI,EAACqF,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAf,QAAA,cACvB/D,IAAA,CAACX,GAAG,EAACqE,EAAE,CAAE,CAACqB,QAAQ,CAAE,QAAQ,CAAEC,GAAG,CAAE,EAAE,CAAE,CAAAjB,QAAA,cACrC/D,IAAA,CAACjB,IAAI,EACH2E,EAAE,CAAE,CACFQ,OAAO,CAAE,kBAAkB,CAC3Be,SAAS,CAAEC,KAAK,EACd,cAAcA,KAAK,CAACC,OAAO,CAACC,MAAM,CAACC,KAAK,IAC5C,CAAE,CAAAtB,QAAA,cACF/D,IAAA,CAAChB,WAAW,EAAC0E,EAAE,CAAE,CAAC4B,CAAC,CAAE,CAAC,CAAE,cAAc,CAAE,CAACb,EAAE,CAAE,CAAC,CAAC,CAAE,CAAAV,QAAA,cAC/C7D,KAAA,CAACb,GAAG,EACFqE,EAAE,CAAE,CACFqB,QAAQ,CAAE,UAAU,CACpB,kBAAkB,CAAE,CAACQ,OAAO,CAAE,CAAC,CACjC,CAAE,CAAAxB,QAAA,eACF/D,IAAA,QACEwF,GAAG,CAAE3E,WAAW,CAAC4E,OAAO,CAAC,YAAY,CAAE,CACvCC,GAAG,CAAE7E,WAAW,CAAC8E,KAAM,CACvBC,KAAK,CAAE,CACLtF,KAAK,CAAE,MAAM,CACbG,MAAM,CAAE,MAAM,CACdkD,OAAO,CAAE,OACX,CAAE,CACH,CAAC,cACF3D,IAAA,CAACX,GAAG,EACFwG,SAAS,CAAC,SAAS,CACnBnC,EAAE,CAAE,CACFqB,QAAQ,CAAE,UAAU,CACpBC,GAAG,CAAE,CAAC,CACNc,IAAI,CAAE,CAAC,CACPC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,CAAC,CACT9B,OAAO,CAAE,iBAAiB,CAC1BP,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxB0B,OAAO,CAAE,CAAC,CACVU,UAAU,CAAE,cACd,CAAE,CAAAlC,QAAA,cACF/D,IAAA,CAACf,MAAM,EACLiH,OAAO,CAAC,WAAW,CACnBC,SAAS,cAAEnG,IAAA,CAACrB,QAAQ,GAAE,CAAE,CACxByH,OAAO,CAAEA,CAAA,GACPjF,QAAQ,CAAC,mBAAmB,CAAE,CAC5BI,KAAK,CAAE,CAACF,MAAM,CAAEC,SAAS,CAC3B,CAAC,CACF,CACDoC,EAAE,CAAE,CACFQ,OAAO,CAAE,OAAO,CAChBD,KAAK,CAAE,cAAc,CACrB,SAAS,CAAE,CAACC,OAAO,CAAE,UAAU,CACjC,CAAE,CAAAH,QAAA,CAAC,UAEL,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,CACK,CAAC,CACV,CAAC,CACJ,CAAC,CACF,CAAC,cACP/D,IAAA,CAACT,IAAI,EAACqF,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAf,QAAA,cACvB/D,IAAA,CAACjB,IAAI,EACH2E,EAAE,CAAE,CACFQ,OAAO,CAAE,kBAAkB,CAC3Be,SAAS,CAAEC,KAAK,EACd,cAAcA,KAAK,CAACC,OAAO,CAACC,MAAM,CAACC,KAAK,IAC5C,CAAE,CAAAtB,QAAA,cACF7D,KAAA,CAAClB,WAAW,EAAC0E,EAAE,CAAE,CAAC2C,WAAW,CAAE,CAAC,CAAEC,YAAY,CAAE,CAAC,CAAE,CAAAvC,QAAA,eACjD7D,KAAA,CAACb,GAAG,EACFqE,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfE,cAAc,CAAE,eAAe,CAC/BD,UAAU,CAAE,YAAY,CACxB2C,EAAE,CAAE,CACN,CAAE,CAAAxC,QAAA,eACF7D,KAAA,CAACb,GAAG,EAAA0E,QAAA,eACF/D,IAAA,CAACd,UAAU,EAACgH,OAAO,CAAC,IAAI,CAACM,SAAS,CAAC,IAAI,CAACC,YAAY,MAAA1C,QAAA,CACjDlD,WAAW,CAAC8E,KAAK,CACR,CAAC,cACbzF,KAAA,CAAChB,UAAU,EAACgH,OAAO,CAAC,IAAI,CAACjC,KAAK,CAAC,gBAAgB,CAAAF,QAAA,EAAC,IAC5C,CAAC,GAAG,CACLlD,WAAW,CAAC6F,OAAO,CACjBC,GAAG,CAACC,MAAM,EAAIA,MAAM,CAACC,IAAI,CAAC,CAC1BC,IAAI,CAAC,IAAI,CAAC,EACH,CAAC,EACV,CAAC,cACN9G,IAAA,CAACf,MAAM,EACLiH,OAAO,CAAC,WAAW,CACnBC,SAAS,cAAEnG,IAAA,CAACpB,aAAa,GAAE,CAAE,CAC7BwH,OAAO,CAAEA,CAAA,GAAM,CACb,GAAI,CAACzF,IAAI,CAAE,CACTc,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,IACC,CAAAN,QAAQ,CAAC,eAAe,CAAE,CACxBI,KAAK,CAAE,CACLF,MAAM,CACNC,SAAS,CACToF,OAAO,CAAE7F,WAAW,CAAC6F,OAAO,CACzBC,GAAG,CAACC,MAAM,EAAIA,MAAM,CAACC,IAAI,CAAC,CAC1BC,IAAI,CAAC,IAAI,CAAC,CACbC,iBAAiB,CACflG,WAAW,CAAC4E,OAAO,CAAC,YAAY,CAAC,CACnCuB,QAAQ,CAAEnG,WAAW,CAACmG,QACxB,CACF,CAAC,CAAC,CACN,CAAE,CACFtD,EAAE,CAAE,CAACQ,OAAO,CAAE,cAAc,CAAE,CAAAH,QAAA,CAAC,cAEjC,CAAQ,CAAC,EACN,CAAC,cAEN7D,KAAA,CAACX,IAAI,EAACmF,SAAS,MAACC,OAAO,CAAE,CAAE,CAACjB,EAAE,CAAE,CAAC6C,EAAE,CAAE,CAAC,CAAE,CAAAxC,QAAA,eACtC7D,KAAA,CAACX,IAAI,EAACqF,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAf,QAAA,eACvB/D,IAAA,CAACd,UAAU,EAACgH,OAAO,CAAC,IAAI,CAACO,YAAY,MAAA1C,QAAA,CAAC,UAEtC,CAAY,CAAC,cACb/D,IAAA,CAACX,GAAG,EAACqE,EAAE,CAAE,CAACC,OAAO,CAAE,MAAM,CAAEsD,QAAQ,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,CAAE,CAAAnD,QAAA,CAClDlD,WAAW,CAACmG,QAAQ,CAACL,GAAG,CAAC,CAACQ,OAAO,CAAEC,KAAK,gBACvCpH,IAAA,CAACb,IAAI,EAEHkI,KAAK,CAAEF,OAAQ,CACfzD,EAAE,CAAE,CACFQ,OAAO,CAAE,OAAO,CAChBD,KAAK,CAAE,cAAc,CACrBqD,MAAM,CAAE,WAAW,CACnBC,WAAW,CAAE,cACf,CAAE,EAPGH,KAQN,CACF,CAAC,CACC,CAAC,EACF,CAAC,cACPlH,KAAA,CAACX,IAAI,EAACqF,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAf,QAAA,eACvB/D,IAAA,CAACd,UAAU,EAACgH,OAAO,CAAC,IAAI,CAACO,YAAY,MAAA1C,QAAA,CAAC,UAEtC,CAAY,CAAC,cACb/D,IAAA,CAACd,UAAU,EAAC+E,KAAK,CAAC,gBAAgB,CAAAF,QAAA,CAC/BlD,WAAW,CAAC2G,SAAS,CACnBb,GAAG,CAACc,IAAI,EAAIA,IAAI,CAACC,WAAW,CAAC,CAAC,CAAC,CAC/BZ,IAAI,CAAC,IAAI,CAAC,CACH,CAAC,EACT,CAAC,cACP5G,KAAA,CAACX,IAAI,EAACqF,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAf,QAAA,eACvB/D,IAAA,CAACd,UAAU,EAACgH,OAAO,CAAC,IAAI,CAACO,YAAY,MAAA1C,QAAA,CAAC,WAEtC,CAAY,CAAC,cACb/D,IAAA,CAACd,UAAU,EAAC+E,KAAK,CAAC,gBAAgB,CAAAF,QAAA,CAAC,mBAEnC,CAAY,CAAC,EACT,CAAC,cACP7D,KAAA,CAACX,IAAI,EAACqF,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAf,QAAA,eACvB/D,IAAA,CAACd,UAAU,EAACgH,OAAO,CAAC,IAAI,CAACO,YAAY,MAAA1C,QAAA,CAAC,WAEtC,CAAY,CAAC,cACb/D,IAAA,CAACd,UAAU,EAAC+E,KAAK,CAAC,gBAAgB,CAAAF,QAAA,CAC/BlD,WAAW,CAAC8G,cAAc,CAACC,cAAc,CAAC,CAAC,CAClC,CAAC,EACT,CAAC,EACH,CAAC,cAEP5H,IAAA,CAACZ,OAAO,EAACsE,EAAE,CAAE,CAACmE,EAAE,CAAE,CAAC,CAAE,CAAE,CAAC,cACxB3H,KAAA,CAACb,GAAG,EAACqE,EAAE,CAAE,CAACC,OAAO,CAAE,MAAM,CAAEuD,GAAG,CAAE,CAAC,CAAEY,EAAE,CAAE,CAAC,CAAE,CAAA/D,QAAA,eACxC/D,IAAA,CAACf,MAAM,EACLiH,OAAO,CAAC,WAAW,CACnBC,SAAS,cAAEnG,IAAA,CAACrB,QAAQ,GAAE,CAAE,CACxByH,OAAO,CAAEA,CAAA,GACPjF,QAAQ,CAAC,mBAAmB,CAAE,CAC5BI,KAAK,CAAE,CAACF,MAAM,CAAEC,SAAS,CAC3B,CAAC,CACF,CACDyG,SAAS,MAAAhE,QAAA,CAAC,WAEZ,CAAQ,CAAC,cACT/D,IAAA,CAACf,MAAM,EACLiH,OAAO,CAAC,UAAU,CAClBC,SAAS,cAAEnG,IAAA,CAAClB,YAAY,GAAE,CAAE,CAC5BsH,OAAO,CAAExD,cAAe,CACxBmF,SAAS,MAAAhE,QAAA,CACRjC,OAAO,CAAG,aAAa,CAAG,gBAAgB,CACrC,CAAC,cACT9B,IAAA,CAACf,MAAM,EAACiH,OAAO,CAAC,UAAU,CAACC,SAAS,cAAEnG,IAAA,CAACnB,MAAM,GAAE,CAAE,CAACkJ,SAAS,MAAAhE,QAAA,CAAC,OAE5D,CAAQ,CAAC,EACN,CAAC,EACK,CAAC,CACV,CAAC,CACH,CAAC,EACH,CAAC,cAEP/D,IAAA,CAACJ,WAAW,EACVyB,MAAM,CAAEA,MAAO,CACf2G,aAAa,CAAEA,CAAA,GAAM,CACnB,GAAI,CAACrH,IAAI,CAAE,CACTc,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,IAAM,CACLE,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CACF,CAAE,CACFsG,cAAc,CAAErG,oBAAqB,CACrCsG,WAAW,CAAEvH,IAAK,CACnB,CAAC,EACO,CAAC,cACZX,IAAA,CAACH,WAAW,EACVsI,IAAI,CAAE3G,eAAgB,CACtB4G,OAAO,CAAEA,CAAA,GAAM3G,kBAAkB,CAAC,KAAK,CAAE,CACzC4G,OAAO,CAAErG,WAAY,CACtB,CAAC,cAEFhC,IAAA,CAACF,YAAY,EACXqI,IAAI,CAAEzG,gBAAiB,CACvB0G,OAAO,CAAEA,CAAA,GAAM,CACbzG,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAE,CACF2G,cAAc,CAAEA,CAAA,GAAM,CACpB3G,mBAAmB,CAAC,KAAK,CAAC,CAC1BE,uBAAuB,CAAC0G,SAAS,EAAIA,SAAS,CAAG,CAAC,CAAC,CAAC;AACtD,CAAE,CACFlH,MAAM,CAAEA,MAAO,CACf6G,WAAW,CAAEvH,IAAK,CACnB,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}